"use strict";(self.webpackChunkshmooz=self.webpackChunkshmooz||[]).push([[5914],{89535:function(e,n,r){var t=r(1413),i=r(45987),a=r(19860),o=r(63585),s=r(46417),l=["color","outline","size","sx"];n.Z=function(e){var n=e.color,r=e.outline,c=e.size,d=e.sx,u=(0,i.Z)(e,l),h=(0,a.Z)(),m=n&&!r&&{color:h.palette.background.paper,bgcolor:"".concat(n,".main")},x=r&&{color:n?"".concat(n,".main"):"primary.main",bgcolor:h.palette.background.paper,border:"2px solid",borderColor:n?"".concat(n,".main"):"primary.main"},p={};switch(c){case"badge":p={width:h.spacing(3.5),height:h.spacing(3.5)};break;case"xs":p={width:h.spacing(4.25),height:h.spacing(4.25)};break;case"sm":p={width:h.spacing(5),height:h.spacing(5)};break;case"lg":p={width:h.spacing(9),height:h.spacing(9)};break;case"xl":p={width:h.spacing(10.25),height:h.spacing(10.25)};break;case"md":p={width:h.spacing(7.5),height:h.spacing(7.5)};break;default:p={}}return(0,s.jsx)(o.Z,(0,t.Z)({sx:(0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},m),x),p),d)},u))}},81628:function(e,n,r){var t=r(1413),i=r(93433),a=r(29439),o=r(47313),s=r(17592),l=r(17551),c=r(9506),d=r(70501),u=r(47131),h=r(24193),m=r(16031),x=r(58823),p=r(81195),g=r(19713),f=r(46417),Z=(0,s.ZP)("div")((function(e){var n=e.theme;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:n.spacing(.5),borderRadius:n.shape.borderRadius,"&:hover":{opacity:.72}}}));function v(e){var n=e.setFieldValue,r=e.fieldName,s=e.multiple,v=e.attachments,j=(0,o.useState)([]),b=(0,a.Z)(j,2),y=b[0],k=b[1];(0,o.useEffect)((function(){v?Array.isArray(v)?k(v):k([v]):k([])}),[v]);var P=(0,o.useCallback)((function(e){var t=[];t=e.map((function(e){var n=new FileReader;return n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;console.log(e)},n.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})),s&&(null===y||void 0===y?void 0:y.length)>0&&(t=[].concat((0,i.Z)(t),(0,i.Z)(y))),k(t),n(r,s?t:e[0])}),[k,n,y]),S=(0,x.uI)({onDrop:P,multiple:s,noDrag:!s,maxFiles:5}),w=S.getRootProps,C=S.getInputProps,z=S.isDragActive;return(0,f.jsxs)(f.Fragment,{children:[null===y||void 0===y?void 0:y.map((function(e){var t=e.name,i=e.preview,a=(0,m.isString)(e)?e:t;return(0,f.jsxs)(c.Z,{sx:{p:0,m:.5,width:64,height:64,borderRadius:.25,overflow:"hidden",position:"relative"},children:[(0,f.jsx)(d.Z,{variant:"outlined",component:"img",src:(0,m.isString)(e)?e:i,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",borderRadius:1}}),(0,f.jsx)(c.Z,{sx:{top:6,right:6,position:"absolute"},children:(0,f.jsx)(u.Z,{size:"small",onClick:function(){return function(e){var t=s?y.filter((function(n){return n!==e})):null;k(t),n(r,t)}(e)},sx:{p:"1px",color:"common.white",bgcolor:function(e){return(0,l.Fq)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return(0,l.Fq)(e.palette.grey[900],.48)}}},children:(0,f.jsx)(p.Z,{})})})]},a)})),(0,f.jsxs)(Z,(0,t.Z)((0,t.Z)({},w()),{},{sx:(0,t.Z)({},z&&{opacity:.72}),children:[(0,f.jsx)("input",(0,t.Z)({},C())),(0,f.jsx)(h.Z,{variant:"outlined",size:"small",sx:{p:0,minWidth:0},children:(0,f.jsx)(g.Z,{})})]}))]})}n.Z=function(e){return(0,f.jsx)(c.Z,{sx:{display:"flex"},children:(0,f.jsx)(v,(0,t.Z)({},e))})}},55914:function(e,n,r){r.r(n),r.d(n,{default:function(){return ye}});var t=r(15861),i=r(29439),a=r(1413),o=r(64687),s=r.n(o),l=r(47313),c=r(19860),d=r(23477),u=r(24076),h=r(67478),m=r(44758),x=r(82558),p=r(9506),g=r(61113),f=r(9289),Z=r(61689),v=r(47131),j=r(93405),b=r(9019),y=r(24631),k=r(41727),P=r(42420),S=r(51629),w=r(66835),C=r(57861),z=r(90891),_=r(70024),E=r(79601),A=r(51405),F=r(62323),O=r(50282),R=r(45987),I=r(50301),D=r(94469),T=r(33604),q=r(96467),V=r(83929),B=r(4117),M=r(15480),L=r(24193),W=r(43394),U=r(97101),H=r(12401),N=r(66182),X=r(81628),G=r(3463),J=r(79429),Y=r(52564),K=r(85554),Q=r(5866),$=(r(70816),r(16031)),ee=r(46417),ne=["image"],re=(0,l.forwardRef)((function(e,n){return(0,ee.jsx)(I.Z,(0,a.Z)({direction:"left",ref:n},e))})),te=G.Ry().shape({name:G.Z_().required("Title is required")}),ie=function(e){var n=e.open,r=e.handleCloseDialog,i=e.editingPaymentPlatform,o=void 0===i?{}:i,l=(0,K.I0)(),c=function(e){r(),l((0,Q.ss)({open:!0,message:"Payment Platform Updated successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1}))},d=function(){var e=(0,t.Z)(s().mark((function e(n,r,t,i,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r,!0,!0);case 2:a(r,n[r].join(", "));case 3:case"end":return e.stop()}}),e)})));return function(n,r,t,i,a){return e.apply(this,arguments)}}(),u=function(e){var n=e.setFieldTouched,r=void 0===n?null:n,i=e.setErrors,a=void 0===i?null:i,o=e.setFieldError,l=void 0===o?null:o;return function(){var e=(0,t.Z)(s().mark((function e(n){var t,i,o,c,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.data)||void 0===t||!t.errors){e.next=5;break}c=null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.errors,Object.keys(c).forEach((function(e){d(c,e,r,a,l)})),e.next=9;break;case 5:if(null===n||void 0===n||null===(i=n.data)||void 0===i||!i.message){e.next=9;break}return e.next=8,r("submit",!0,!0);case 8:l("submit",null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.message);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return(0,ee.jsx)(D.Z,{open:n,TransitionComponent:re,keepMounted:!0,onClose:r,sx:{"&>div:nth-of-type(3)":{justifyContent:"flex-end","&>div":{m:0,borderRadius:"0px",maxWidth:450,maxHeight:"100%"}}},children:n&&(0,ee.jsx)(J.J9,{initialValues:(0,a.Z)((0,a.Z)({submit:null,name:"",is_active:!0,subscription_enabled:!0},o),{},{image:(0,$.isString)(o.image)?[o.image]:null}),enableReinitialize:!0,validationSchema:te,onSubmit:function(){var e=(0,t.Z)(s().mark((function e(n,r){var t,i,o,d,h,m,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.setErrors,r.setStatus,r.setSubmitting,i=r.setFieldTouched,o=r.setFieldError,d=n.image,h=(0,R.Z)(n,ne),m=(0,a.Z)((0,a.Z)({},h),{},{image:(0,$.isArray)(d)?d[0]:d}),console.log(n),x={setFieldTouched:i,setErrors:t,setFieldError:o};try{m.id?(m._method="put",l((0,Y.nV)(m,c,u(x)))):m.id||l((0,Y.k5)(m,c,u(x)))}catch(s){l((0,Q.ss)({open:!0,message:"An Error Occured",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},close:!1})),console.error(s)}case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,t=e.setFieldValue,i=e.handleBlur,a=e.handleChange,o=e.handleSubmit,s=e.isSubmitting,l=e.touched,c=e.values;return(0,ee.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,ee.jsxs)(W._,{dateAdapter:U.H,children:[(0,ee.jsx)(T.Z,{children:"".concat(c.id?"Edit":"Add"," Payment Platform")}),(0,ee.jsx)(q.Z,{children:(0,ee.jsxs)(b.ZP,{container:!0,spacing:H.dv,sx:{mt:.25},children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,children:(0,ee.jsx)(y.Z,{id:"payment-platform-name",fullWidth:!0,label:"Enter Payment Platform Title*",name:"name",value:c.name,onBlur:i,onChange:a,error:Boolean(l.name&&n.name),helperText:l.name&&n.name})}),(0,ee.jsx)(b.ZP,{item:!0,xs:12,children:(0,ee.jsxs)(b.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:4,children:(0,ee.jsx)(g.Z,{variant:"body2",children:"Image"})}),(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:8,children:(0,ee.jsx)(X.Z,{attachments:c.image,setFieldValue:t,fieldName:"image"})})]})}),(0,ee.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,ee.jsx)(V.Z,{control:(0,ee.jsx)(_.Z,{checked:c.is_active||!1,name:"is_active",onChange:function(e){return t("is_active",e.target.checked)}}),label:"Active"})}),(0,ee.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,ee.jsx)(V.Z,{control:(0,ee.jsx)(_.Z,{checked:c.subscription_enabled||!1,name:"subscription_enabled",onChange:function(e){return t("subscription_enabled",e.target.checked)}}),label:"Subscribed"})})]})}),(0,ee.jsxs)(B.Z,{children:[n.submit&&(0,ee.jsx)(p.Z,{sx:{ml:3,flex:1},children:(0,ee.jsx)(M.Z,{error:!0,children:n.submit})}),(0,ee.jsx)(N.Z,{children:(0,ee.jsx)(L.Z,{color:"secondary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"".concat(c.id?"Update":"Create")})}),(0,ee.jsx)(N.Z,{children:(0,ee.jsx)(L.Z,{variant:"text",color:"error",onClick:r,children:"Close"})})]}),(0,ee.jsx)(p.Z,{sx:{mt:2}})]})})}})})},ae=r(33497),oe=r(52306),se=r(51997),le=r(44289),ce=r(94788),de=r(49854),ue=r(57983),he=r(83033),me=r(38398),xe=r(11146),pe=r(89535);function ge(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}var fe=function(e,n){return"desc"===e?function(e,r){return ge(e,r,n)}:function(e,r){return-ge(e,r,n)}};function Ze(e,n){var r=e.map((function(e,n){return[e,n]}));return r.sort((function(e,r){var t=n(e[0],r[0]);return 0!==t?t:e[1]-r[1]})),r.map((function(e){return e[0]}))}var ve=[{id:"id",numeric:!0,label:"ID",align:"center"},{id:"name",numeric:!1,label:"Title",align:"left"},{id:"image",numeric:!1,label:"Image",align:"left"},{id:"is_active",numeric:!1,label:"Status",align:"center"},{id:"subscription_enabled",numeric:!1,label:"Subscribed",align:"center"}];function je(e){var n=e.onSelectAllClick,r=e.order,t=e.orderBy,i=e.numSelected,a=e.rowCount,o=e.onRequestSort,s=e.theme,l=e.selected;return(0,ee.jsx)(d.Z,{children:(0,ee.jsxs)(u.Z,{children:[(0,ee.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},children:(0,ee.jsx)(m.Z,{color:"primary",indeterminate:i>0&&i<a,checked:a>0&&i===a,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),i>0&&(0,ee.jsx)(h.Z,{padding:"none",colSpan:7,children:(0,ee.jsx)(be,{numSelected:l.length})}),i<=0&&ve.map((function(e){return(0,ee.jsx)(h.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:t===e.id&&r,children:(0,ee.jsxs)(x.Z,{active:t===e.id,direction:t===e.id?r:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,t===(null===e||void 0===e?void 0:e.id)?(0,ee.jsx)(p.Z,{component:"span",sx:O.Z,children:"desc"===r?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),i<=0&&(0,ee.jsx)(h.Z,{sortDirection:!1,align:"center",sx:{pr:3},children:(0,ee.jsx)(g.Z,{variant:"subtitle1",sx:{color:"dark"===s.palette.mode?"grey.600":"grey.900"},children:"Action"})})]})})}var be=function(e){var n=e.numSelected;return(0,ee.jsxs)(f.Z,{sx:(0,a.Z)({p:0,pl:1,pr:1},n>0&&{color:function(e){return e.palette.secondary.main}}),children:[n>0?(0,ee.jsxs)(g.Z,{color:"inherit",variant:"h4",children:[n," Selected"]}):(0,ee.jsx)(g.Z,{variant:"h6",id:"tableTitle",children:"Nutrition"}),(0,ee.jsx)(p.Z,{sx:{flexGrow:1}}),n>0&&(0,ee.jsx)(Z.Z,{title:"Delete",children:(0,ee.jsx)(v.Z,{size:"large",children:(0,ee.jsx)(se.Z,{fontSize:"small"})})})]})},ye=function(){var e=(0,c.Z)(),n=(0,oe.I0)(),r=l.useState(null),t=(0,i.Z)(r,2),a=t[0],o=t[1],s=l.useState(!1),d=(0,i.Z)(s,2),x=d[0],p=d[1],f=function(e){o(e),p(!0)},O=l.useState("asc"),R=(0,i.Z)(O,2),I=R[0],D=R[1],T=l.useState("calories"),q=(0,i.Z)(T,2),V=q[0],B=q[1],M=l.useState([]),L=(0,i.Z)(M,2),W=L[0],U=L[1],H=l.useState(0),N=(0,i.Z)(H,2),X=N[0],G=N[1],J=l.useState(5),K=(0,i.Z)(J,2),$=K[0],ne=K[1],re=l.useState(""),te=(0,i.Z)(re,2),se=te[0],ge=te[1],ve=l.useState([]),be=(0,i.Z)(ve,2),ye=be[0],ke=be[1],Pe=(0,oe.v9)((function(e){return e.paymentPlatform})).paymentPlatforms,Se=l.useState(!1),we=(0,i.Z)(Se,2),Ce=we[0],ze=we[1];l.useEffect((function(){n((0,Y.qX)())}),[n]),l.useEffect((function(){ke(Pe)}),[Pe]);var _e=l.useState(null),Ee=(0,i.Z)(_e,2),Ae=Ee[0],Fe=Ee[1],Oe=function(e){Fe(null===e||void 0===e?void 0:e.currentTarget)},Re=function(){Fe(null)},Ie=function(){n((0,Q.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},message:"Payment Platform Deleted"})),n((0,Y.qX)())},De=function(){n((0,Q.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},message:"An Error Occured"}))},Te=X>0?Math.max(0,(1+X)*$-ye.length):0;return(0,ee.jsxs)(ae.Z,{title:"Payment Platform List",content:!1,children:[(0,ee.jsx)(j.Z,{children:(0,ee.jsxs)(b.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,ee.jsx)(y.Z,{InputProps:{startAdornment:(0,ee.jsx)(k.Z,{position:"start",children:(0,ee.jsx)(ue.Z,{fontSize:"small"})})},onChange:function(e){var n=null===e||void 0===e?void 0:e.target.value;if(ge(n||""),n){var r=ye.filter((function(e){var r=!0,t=!1;return["name","category","price","qty","id"].forEach((function(r){e[r].toString().toLowerCase().includes(n.toString().toLowerCase())&&(t=!0)})),t||(r=!1),r}));ke(r)}else ke(Pe)},placeholder:"Search Payment Platform",value:se,size:"small"})}),(0,ee.jsxs)(b.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:[(0,ee.jsx)(Z.Z,{title:"Copy",children:(0,ee.jsx)(v.Z,{size:"large",children:(0,ee.jsx)(de.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Print",children:(0,ee.jsx)(v.Z,{size:"large",children:(0,ee.jsx)(ce.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Filter",children:(0,ee.jsx)(v.Z,{size:"large",children:(0,ee.jsx)(le.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Add Payment Platform",children:(0,ee.jsx)(P.Z,{color:"primary",size:"small",onClick:function(){return f()},sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,ee.jsx)(he.Z,{fontSize:"small"})})}),(0,ee.jsx)(ie,{open:x,editingPaymentPlatform:a,handleCloseDialog:function(){p(!1),o(null)}})]})]})}),(0,ee.jsx)(S.Z,{children:(0,ee.jsxs)(w.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,ee.jsx)(je,{numSelected:W.length,order:I,orderBy:V,onSelectAllClick:function(e){if(e.target.checked)if(W.length>0)U([]);else{var n=ye.map((function(e){return e.id}));U(n)}else U([])},onRequestSort:function(e,n){D(V===n&&"asc"===I?"desc":"asc"),B(n)},rowCount:ye.length,theme:e,selected:W}),(0,ee.jsxs)(C.Z,{children:[Ze(ye,fe(I,V)).slice(X*$,X*$+$).map((function(r,t){if("number"===typeof r)return null;var i,a=(i=r.id,-1!==W.indexOf(i)),s="enhanced-table-checkbox-".concat(t);return(0,ee.jsxs)(u.Z,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[(0,ee.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},onClick:function(e){return function(e,n){var r=W.indexOf(n),t=[];-1===r?t=t.concat(W,n):0===r?t=t.concat(W.slice(1)):r===W.length-1?t=t.concat(W.slice(0,-1)):r>0&&(t=t.concat(W.slice(0,r),W.slice(r+1))),U(t)}(0,r.id)},children:(0,ee.jsx)(m.Z,{color:"primary",checked:a,inputProps:{"aria-labelledby":s}})}),(0,ee.jsx)(h.Z,{align:"center",component:"th",id:s,scope:"row",sx:{cursor:"pointer"},children:(0,ee.jsxs)(g.Z,{variant:"subtitle1",sx:{color:"dark"===e.palette.mode?"grey.600":"grey.900"},children:["#",r.id," "]})}),(0,ee.jsx)(h.Z,{component:"th",id:s,scope:"row",sx:{cursor:"pointer"},onClick:function(e){return f(r)},children:(0,ee.jsx)(z.Z,{underline:"hover",color:"default",sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:r.name})}),(0,ee.jsx)(h.Z,{children:(0,ee.jsx)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:(0,ee.jsx)(b.ZP,{item:!0,children:(0,ee.jsx)(pe.Z,{alt:r.name,src:r.image})})})}),(0,ee.jsx)(h.Z,{align:"center",children:(0,ee.jsx)(_.Z,{checked:r.is_active,color:"".concat(r.is_active?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e,t){var i={id:r.id,is_active:e.target.checked,_method:"put"};n((0,Y.nV)(i,(function(){}),(function(){})))}})}),(0,ee.jsx)(h.Z,{align:"center",children:(0,ee.jsx)(_.Z,{checked:r.subscription_enabled,color:"".concat(r.subscription_enabled?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e,t){var i={id:r.id,subscription_enabled:e.target.checked,_method:"put"};n((0,Y.nV)(i,(function(){}),(function(){})))}})}),(0,ee.jsxs)(h.Z,{align:"center",sx:{pr:3},children:[(0,ee.jsx)(v.Z,{onClick:Oe,size:"large","aria-label":"more options",children:(0,ee.jsx)(me.Z,{fontSize:"small","aria-controls":"menu-popular-card-1","aria-haspopup":"true",sx:{color:"grey.500"}})}),(0,ee.jsxs)(E.Z,{id:"menu-popular-card-1",anchorEl:Ae,keepMounted:!0,open:Boolean(Ae),onClose:Re,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiMenu-paper":{boxShadow:e.customShadows.z1}},children:[(0,ee.jsx)(A.Z,{onClick:function(){return function(e){f(e),Re()}(r)},children:"Edit"}),(0,ee.jsx)(A.Z,{onClick:function(){return function(e){Re(),o(e),ze(!0)}(r)},children:"Delete"})]})]})]},t)})),Te>0&&(0,ee.jsx)(u.Z,{style:{height:53*Te},children:(0,ee.jsx)(h.Z,{colSpan:6})})]})]})}),(0,ee.jsx)(F.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:ye.length,rowsPerPage:$,page:X,onPageChange:function(e,n){G(n)},onRowsPerPageChange:function(e){ne(parseInt(null===e||void 0===e?void 0:e.target.value,10)),G(0)}}),(0,ee.jsx)(xe.Z,{open:Ce,setOpen:ze,item:a,onConfirm:function(){ze(!1),n((0,Y.EY)(a,Ie,De))},onCancel:function(){return ze(!1)}})]})}}}]);