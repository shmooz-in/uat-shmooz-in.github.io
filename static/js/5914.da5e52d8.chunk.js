"use strict";(self.webpackChunkshmooz=self.webpackChunkshmooz||[]).push([[5914],{89535:function(e,n,t){var r=t(1413),i=t(45987),a=t(19860),o=t(63585),c=t(46417),s=["color","outline","size","customSize","sx"];n.Z=function(e){var n=e.color,t=e.outline,l=e.size,d=e.customSize,u=e.sx,h=(0,i.Z)(e,s),m=(0,a.Z)(),x=n&&!t&&{color:m.palette.background.paper,bgcolor:"".concat(n,".main")},p=t&&{color:n?"".concat(n,".main"):"primary.main",bgcolor:m.palette.background.paper,border:"2px solid",borderColor:n?"".concat(n,".main"):"primary.main"},g={};switch(l){case"custom":g={width:m.spacing(d),height:m.spacing(d)};break;case"badge":g={width:m.spacing(3.5),height:m.spacing(3.5)};break;case"xs":g={width:m.spacing(4.25),height:m.spacing(4.25)};break;case"sm":g={width:m.spacing(5),height:m.spacing(5)};break;case"lg":g={width:m.spacing(9),height:m.spacing(9)};break;case"xl":g={width:m.spacing(10.25),height:m.spacing(10.25)};break;case"md":g={width:m.spacing(7.5),height:m.spacing(7.5)};break;default:g={}}return(0,c.jsx)(o.Z,(0,r.Z)({sx:(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},x),p),g),u)},h))}},55914:function(e,n,t){t.r(n),t.d(n,{default:function(){return ke}});var r=t(15861),i=t(29439),a=t(1413),o=t(64687),c=t.n(o),s=t(47313),l=t(19860),d=t(23477),u=t(24076),h=t(67478),m=t(44758),x=t(82558),p=t(9506),g=t(61113),f=t(9289),Z=t(61689),j=t(47131),v=t(93405),b=t(9019),k=t(24631),y=t(41727),P=t(42420),S=t(51629),C=t(66835),w=t(57861),z=t(90891),_=t(70024),E=t(79601),O=t(51405),A=t(62323),I=t(50282),T=t(45987),F=t(50301),D=t(94469),q=t(33604),R=t(96467),V=t(83929),B=t(4117),M=t(15480),W=t(24193),H=t(43394),L=t(97101),N=t(12401),U=t(66182),X=t(81628),G=t(3463),J=t(79429),Y=t(52564),K=t(85554),Q=t(5866),$=(t(70816),t(16031)),ee=t(46417),ne=["image"],te=(0,s.forwardRef)((function(e,n){return(0,ee.jsx)(F.Z,(0,a.Z)({direction:"left",ref:n},e))})),re=G.Ry().shape({name:G.Z_().required("Title is required")}),ie=function(e){var n=e.open,t=e.handleCloseDialog,i=e.editingPaymentPlatform,o=void 0===i?{}:i,s=(0,K.I0)(),l=function(e){t(),s((0,Q.ss)({open:!0,message:"Payment Platform Updated successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1}))},d=function(){var e=(0,r.Z)(c().mark((function e(n,t,r,i,a){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t,!0,!0);case 2:a(t,n[t].join(", "));case 3:case"end":return e.stop()}}),e)})));return function(n,t,r,i,a){return e.apply(this,arguments)}}(),u=function(e){var n=e.setFieldTouched,t=void 0===n?null:n,i=e.setErrors,a=void 0===i?null:i,o=e.setFieldError,s=void 0===o?null:o;return function(){var e=(0,r.Z)(c().mark((function e(n){var r,i,o,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(r=n.data)||void 0===r||!r.errors){e.next=5;break}l=null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.errors,Object.keys(l).forEach((function(e){d(l,e,t,a,s)})),e.next=9;break;case 5:if(null===n||void 0===n||null===(i=n.data)||void 0===i||!i.message){e.next=9;break}return e.next=8,t("submit",!0,!0);case 8:s("submit",null===n||void 0===n||null===(u=n.data)||void 0===u?void 0:u.message);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return(0,ee.jsx)(D.Z,{open:n,TransitionComponent:te,keepMounted:!0,onClose:t,sx:{"&>div:nth-of-type(3)":{justifyContent:"flex-end","&>div":{m:0,borderRadius:"0px",maxWidth:450,maxHeight:"100%"}}},children:n&&(0,ee.jsx)(J.J9,{initialValues:(0,a.Z)((0,a.Z)({submit:null,name:"",is_active:!0,subscription_enabled:!0},o),{},{image:(0,$.isString)(o.image)?[o.image]:null}),enableReinitialize:!0,validationSchema:re,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(n,t){var r,i,o,d,h,m,x;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.setErrors,t.setStatus,t.setSubmitting,i=t.setFieldTouched,o=t.setFieldError,d=n.image,h=(0,T.Z)(n,ne),m=(0,a.Z)((0,a.Z)({},h),{},{image:(0,$.isArray)(d)?d[0]:d}),console.log(n),x={setFieldTouched:i,setErrors:r,setFieldError:o};try{m.id?(m._method="put",s((0,Y.nV)(m,l,u(x)))):m.id||s((0,Y.k5)(m,l,u(x)))}catch(c){s((0,Q.ss)({open:!0,message:"An Error Occured",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},close:!1})),console.error(c)}case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.setFieldValue,i=e.handleBlur,a=e.handleChange,o=e.handleSubmit,c=e.isSubmitting,s=e.touched,l=e.values;return(0,ee.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,ee.jsxs)(H._,{dateAdapter:L.H,children:[(0,ee.jsx)(q.Z,{children:"".concat(l.id?"Edit":"Add"," Payment Platform")}),(0,ee.jsx)(R.Z,{children:(0,ee.jsxs)(b.ZP,{container:!0,spacing:N.dv,sx:{mt:.25},children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,children:(0,ee.jsx)(k.Z,{id:"payment-platform-name",fullWidth:!0,label:"Enter Payment Platform Title*",name:"name",value:l.name,onBlur:i,onChange:a,error:Boolean(s.name&&n.name),helperText:s.name&&n.name})}),(0,ee.jsx)(b.ZP,{item:!0,xs:12,children:(0,ee.jsxs)(b.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:4,children:(0,ee.jsx)(g.Z,{variant:"body2",children:"Image"})}),(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:8,children:(0,ee.jsx)(X.Z,{attachments:l.image,setFieldValue:r,fieldName:"image"})})]})}),(0,ee.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,ee.jsx)(V.Z,{control:(0,ee.jsx)(_.Z,{checked:l.is_active||!1,name:"is_active",onChange:function(e){return r("is_active",e.target.checked)}}),label:"Active"})}),(0,ee.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,ee.jsx)(V.Z,{control:(0,ee.jsx)(_.Z,{checked:l.subscription_enabled||!1,name:"subscription_enabled",onChange:function(e){return r("subscription_enabled",e.target.checked)}}),label:"Subscribed"})})]})}),(0,ee.jsxs)(B.Z,{children:[n.submit&&(0,ee.jsx)(p.Z,{sx:{ml:3,flex:1},children:(0,ee.jsx)(M.Z,{error:!0,children:n.submit})}),(0,ee.jsx)(U.Z,{children:(0,ee.jsx)(W.Z,{color:"secondary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"".concat(l.id?"Update":"Create")})}),(0,ee.jsx)(U.Z,{children:(0,ee.jsx)(W.Z,{variant:"text",color:"error",onClick:t,children:"Close"})})]}),(0,ee.jsx)(p.Z,{sx:{mt:2}})]})})}})})},ae=t(33497),oe=t(25442),ce=t(51997),se=t(44289),le=t(94788),de=t(49854),ue=t(57983),he=t(83033),me=t(38398),xe=t(11146),pe=t(89535);function ge(e,n,t){return n[t]<e[t]?-1:n[t]>e[t]?1:0}var fe=function(e,n){return"desc"===e?function(e,t){return ge(e,t,n)}:function(e,t){return-ge(e,t,n)}};function Ze(e,n){var t=e.map((function(e,n){return[e,n]}));return t.sort((function(e,t){var r=n(e[0],t[0]);return 0!==r?r:e[1]-t[1]})),t.map((function(e){return e[0]}))}var je=[{id:"id",numeric:!0,label:"ID",align:"center"},{id:"name",numeric:!1,label:"Title",align:"left"},{id:"image",numeric:!1,label:"Image",align:"left"},{id:"is_active",numeric:!1,label:"Status",align:"center"},{id:"subscription_enabled",numeric:!1,label:"Subscribed",align:"center"}];function ve(e){var n=e.onSelectAllClick,t=e.order,r=e.orderBy,i=e.numSelected,a=e.rowCount,o=e.onRequestSort,c=e.theme,s=e.selected;return(0,ee.jsx)(d.Z,{children:(0,ee.jsxs)(u.Z,{children:[(0,ee.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},children:(0,ee.jsx)(m.Z,{color:"primary",indeterminate:i>0&&i<a,checked:a>0&&i===a,onChange:n,inputProps:{"aria-label":"select all desserts"}})}),i>0&&(0,ee.jsx)(h.Z,{padding:"none",colSpan:7,children:(0,ee.jsx)(be,{numSelected:s.length})}),i<=0&&je.map((function(e){return(0,ee.jsx)(h.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&t,children:(0,ee.jsxs)(x.Z,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(n=e.id,function(e){o(e,n)}),children:[e.label,r===(null===e||void 0===e?void 0:e.id)?(0,ee.jsx)(p.Z,{component:"span",sx:I.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),i<=0&&(0,ee.jsx)(h.Z,{sortDirection:!1,align:"center",sx:{pr:3},children:(0,ee.jsx)(g.Z,{variant:"subtitle1",sx:{color:"dark"===c.palette.mode?"grey.600":"grey.900"},children:"Action"})})]})})}var be=function(e){var n=e.numSelected;return(0,ee.jsxs)(f.Z,{sx:(0,a.Z)({p:0,pl:1,pr:1},n>0&&{color:function(e){return e.palette.secondary.main}}),children:[n>0?(0,ee.jsxs)(g.Z,{color:"inherit",variant:"h4",children:[n," Selected"]}):(0,ee.jsx)(g.Z,{variant:"h6",id:"tableTitle",children:"Nutrition"}),(0,ee.jsx)(p.Z,{sx:{flexGrow:1}}),n>0&&(0,ee.jsx)(Z.Z,{title:"Delete",children:(0,ee.jsx)(j.Z,{size:"large",children:(0,ee.jsx)(ce.Z,{fontSize:"small"})})})]})},ke=function(){var e=(0,l.Z)(),n=(0,oe.I0)(),t=s.useState(null),r=(0,i.Z)(t,2),a=r[0],o=r[1],c=s.useState(!1),d=(0,i.Z)(c,2),x=d[0],p=d[1],f=function(e){o(e),p(!0)},I=s.useState("asc"),T=(0,i.Z)(I,2),F=T[0],D=T[1],q=s.useState("calories"),R=(0,i.Z)(q,2),V=R[0],B=R[1],M=s.useState([]),W=(0,i.Z)(M,2),H=W[0],L=W[1],N=s.useState(0),U=(0,i.Z)(N,2),X=U[0],G=U[1],J=s.useState(5),K=(0,i.Z)(J,2),$=K[0],ne=K[1],te=s.useState(""),re=(0,i.Z)(te,2),ce=re[0],ge=re[1],je=s.useState([]),be=(0,i.Z)(je,2),ke=be[0],ye=be[1],Pe=(0,oe.v9)((function(e){return e.paymentPlatform})).paymentPlatforms,Se=s.useState(!1),Ce=(0,i.Z)(Se,2),we=Ce[0],ze=Ce[1];s.useEffect((function(){n((0,Y.qX)())}),[n]),s.useEffect((function(){ye(Pe)}),[Pe]);var _e=s.useState(null),Ee=(0,i.Z)(_e,2),Oe=Ee[0],Ae=Ee[1],Ie=function(e){Ae(null===e||void 0===e?void 0:e.currentTarget)},Te=function(){Ae(null)},Fe=function(){n((0,Q.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},message:"Payment Platform Deleted"})),n((0,Y.qX)())},De=function(){n((0,Q.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},message:"An Error Occured"}))},qe=X>0?Math.max(0,(1+X)*$-ke.length):0;return(0,ee.jsxs)(ae.Z,{title:"Payment Platform List",content:!1,children:[(0,ee.jsx)(v.Z,{children:(0,ee.jsxs)(b.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,ee.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,ee.jsx)(k.Z,{InputProps:{startAdornment:(0,ee.jsx)(y.Z,{position:"start",children:(0,ee.jsx)(ue.Z,{fontSize:"small"})})},onChange:function(e){var n=null===e||void 0===e?void 0:e.target.value;if(ge(n||""),n){var t=ke.filter((function(e){var t=!0,r=!1;return["name","category","price","qty","id"].forEach((function(t){e[t].toString().toLowerCase().includes(n.toString().toLowerCase())&&(r=!0)})),r||(t=!1),t}));ye(t)}else ye(Pe)},placeholder:"Search Payment Platform",value:ce,size:"small"})}),(0,ee.jsxs)(b.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:[(0,ee.jsx)(Z.Z,{title:"Copy",children:(0,ee.jsx)(j.Z,{size:"large",children:(0,ee.jsx)(de.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Print",children:(0,ee.jsx)(j.Z,{size:"large",children:(0,ee.jsx)(le.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Filter",children:(0,ee.jsx)(j.Z,{size:"large",children:(0,ee.jsx)(se.Z,{})})}),(0,ee.jsx)(Z.Z,{title:"Add Payment Platform",children:(0,ee.jsx)(P.Z,{color:"primary",size:"small",onClick:function(){return f()},sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,ee.jsx)(he.Z,{fontSize:"small"})})}),(0,ee.jsx)(ie,{open:x,editingPaymentPlatform:a,handleCloseDialog:function(){p(!1),o(null)}})]})]})}),(0,ee.jsx)(S.Z,{children:(0,ee.jsxs)(C.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,ee.jsx)(ve,{numSelected:H.length,order:F,orderBy:V,onSelectAllClick:function(e){if(e.target.checked)if(H.length>0)L([]);else{var n=ke.map((function(e){return e.id}));L(n)}else L([])},onRequestSort:function(e,n){D(V===n&&"asc"===F?"desc":"asc"),B(n)},rowCount:ke.length,theme:e,selected:H}),(0,ee.jsxs)(w.Z,{children:[Ze(ke,fe(F,V)).slice(X*$,X*$+$).map((function(t,r){if("number"===typeof t)return null;var i,a=(i=t.id,-1!==H.indexOf(i)),c="enhanced-table-checkbox-".concat(r);return(0,ee.jsxs)(u.Z,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[(0,ee.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},onClick:function(e){return function(e,n){var t=H.indexOf(n),r=[];-1===t?r=r.concat(H,n):0===t?r=r.concat(H.slice(1)):t===H.length-1?r=r.concat(H.slice(0,-1)):t>0&&(r=r.concat(H.slice(0,t),H.slice(t+1))),L(r)}(0,t.id)},children:(0,ee.jsx)(m.Z,{color:"primary",checked:a,inputProps:{"aria-labelledby":c}})}),(0,ee.jsx)(h.Z,{align:"center",component:"th",id:c,scope:"row",sx:{cursor:"pointer"},children:(0,ee.jsxs)(g.Z,{variant:"subtitle1",sx:{color:"dark"===e.palette.mode?"grey.600":"grey.900"},children:["#",t.id," "]})}),(0,ee.jsx)(h.Z,{component:"th",id:c,scope:"row",sx:{cursor:"pointer"},onClick:function(e){return f(t)},children:(0,ee.jsx)(z.Z,{underline:"hover",color:"default",sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:t.name})}),(0,ee.jsx)(h.Z,{children:(0,ee.jsx)(b.ZP,{container:!0,spacing:2,alignItems:"center",children:(0,ee.jsx)(b.ZP,{item:!0,children:(0,ee.jsx)(pe.Z,{alt:t.name,src:t.image})})})}),(0,ee.jsx)(h.Z,{align:"center",children:(0,ee.jsx)(_.Z,{checked:t.is_active,color:"".concat(t.is_active?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e,r){var i={id:t.id,is_active:e.target.checked,_method:"put"};n((0,Y.nV)(i,(function(){}),(function(){})))}})}),(0,ee.jsx)(h.Z,{align:"center",children:(0,ee.jsx)(_.Z,{checked:t.subscription_enabled,color:"".concat(t.subscription_enabled?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e,r){var i={id:t.id,subscription_enabled:e.target.checked,_method:"put"};n((0,Y.nV)(i,(function(){}),(function(){})))}})}),(0,ee.jsxs)(h.Z,{align:"center",sx:{pr:3},children:[(0,ee.jsx)(j.Z,{onClick:Ie,size:"large","aria-label":"more options",children:(0,ee.jsx)(me.Z,{fontSize:"small","aria-controls":"menu-popular-card-1","aria-haspopup":"true",sx:{color:"grey.500"}})}),(0,ee.jsxs)(E.Z,{id:"menu-popular-card-1",anchorEl:Oe,keepMounted:!0,open:Boolean(Oe),onClose:Te,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiMenu-paper":{boxShadow:e.customShadows.z1}},children:[(0,ee.jsx)(O.Z,{onClick:function(){return function(e){f(e),Te()}(t)},children:"Edit"}),(0,ee.jsx)(O.Z,{onClick:function(){return function(e){Te(),o(e),ze(!0)}(t)},children:"Delete"})]})]})]},r)})),qe>0&&(0,ee.jsx)(u.Z,{style:{height:53*qe},children:(0,ee.jsx)(h.Z,{colSpan:6})})]})]})}),(0,ee.jsx)(A.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:ke.length,rowsPerPage:$,page:X,onPageChange:function(e,n){G(n)},onRowsPerPageChange:function(e){ne(parseInt(null===e||void 0===e?void 0:e.target.value,10)),G(0)}}),(0,ee.jsx)(xe.Z,{open:we,setOpen:ze,item:a,onConfirm:function(){ze(!1),n((0,Y.EY)(a,Fe,De))},onCancel:function(){return ze(!1)}})]})}}}]);