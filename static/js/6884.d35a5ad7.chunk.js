"use strict";(self.webpackChunkshmooz=self.webpackChunkshmooz||[]).push([[6884],{11146:function(e,t,n){n(47313);var r=n(19860),a=n(94469),o=n(33604),i=n(96467),c=n(97762),s=n(61113),l=n(4117),d=n(24193),u=n(46417);t.Z=function(e){var t=e.open,n=void 0!==t&&t,h=e.setOpen,p=e.onConfirm,f=e.onCancel,m=(0,r.Z)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(a.Z,{open:n,onClose:function(){h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{id:"alert-dialog-title",children:"Confirm Action"}),(0,u.jsx)(i.Z,{children:(0,u.jsx)(c.Z,{id:"alert-dialog-description",children:(0,u.jsx)(s.Z,{variant:"body2",component:"span",children:"Are you sure you want to proceed with the action"})})}),(0,u.jsxs)(l.Z,{sx:{pr:2.5},children:[(0,u.jsx)(d.Z,{sx:{color:m.palette.error.dark,borderColor:m.palette.error.dark},onClick:p,color:"secondary",children:"Delete"}),(0,u.jsx)(d.Z,{variant:"contained",size:"small",onClick:f,autoFocus:!0,children:"Cancel"})]})]})})})}},46884:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});var r=n(15861),a=n(29439),o=n(1413),i=n(64687),c=n.n(i),s=n(47313),l=n(19860),d=n(23477),u=n(24076),h=n(67478),p=n(44758),f=n(82558),m=n(9506),x=n(9289),Z=n(61113),v=n(61689),g=n(47131),j=n(93405),b=n(9019),w=n(24631),k=n(41727),S=n(42420),C=n(51629),y=n(66835),P=n(57861),z=n(90891),A=n(70024),R=n(62323),D=n(94469),I=n(50282),B=n(33497),F=n(12754),O=n(52488),M=n(51997),N=n(44289),T=n(94788),q=n(49854),E=n(57983),L=n(83033),Q=n(33604),W=n(19536),_=n(96467),H=n(4117),U=n(35898),V=n(24193),X=n(43394),G=n(97101),$=n(19118),J=n.n($),K=n(3463),Y=n(79429),ee=n(12401),te=n(11146),ne=n(46417),re=function(e,t){var n={name:""};return e||t?J()({},n,e):n},ae=function(e){var t=e.category,n=e.range,i=e.handleDelete,d=e.handleCreate,u=e.handleUpdate,h=e.onCancel,p=((0,l.Z)(),!t),f=(0,s.useState)(!1),m=(0,a.Z)(f,2),x=m[0],Z=m[1],j=K.Ry().shape({name:K.Z_().max(255).required("Name is required")}),k=(0,Y.TA)({initialValues:re(t,n),validationSchema:j,onSubmit:function(){var e=(0,r.Z)(c().mark((function e(n,r){var a,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.resetForm,o=r.setSubmitting;try{i={name:n.name},t?u(t.id,i):d(i),a(),h(),o(!1)}catch(c){console.error(c)}case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),S=(k.values,k.errors),C=k.touched,y=k.handleSubmit,P=k.isSubmitting,z=k.getFieldProps;k.setFieldValue;return(0,ne.jsx)(Y.Hy,{value:k,children:(0,ne.jsxs)(X._,{dateAdapter:G.H,children:[(0,ne.jsxs)(Y.l0,{autoComplete:"off",noValidate:!0,onSubmit:y,children:[(0,ne.jsx)(Q.Z,{children:t?"Edit Category":"Add Category"}),(0,ne.jsx)(W.Z,{}),(0,ne.jsx)(_.Z,{sx:{p:3},children:(0,ne.jsx)(b.ZP,{container:!0,spacing:ee.dv,children:(0,ne.jsx)(b.ZP,{item:!0,xs:12,children:(0,ne.jsx)(w.Z,(0,o.Z)((0,o.Z)({fullWidth:!0,label:"Name"},z("name")),{},{error:Boolean(C.name&&S.name),helperText:C.name&&S.name}))})})}),(0,ne.jsx)(H.Z,{sx:{p:3},children:(0,ne.jsxs)(b.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,ne.jsx)(b.ZP,{item:!0,children:!p&&(0,ne.jsx)(v.Z,{title:"Delete Category",children:(0,ne.jsx)(g.Z,{color:"error",disabled:!0,onClick:function(){return Z(!0)},size:"large",children:(0,ne.jsx)(M.Z,{})})})}),(0,ne.jsx)(b.ZP,{item:!0,children:(0,ne.jsxs)(U.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,ne.jsx)(V.Z,{type:"button",variant:"outlined",onClick:h,children:"Cancel"}),(0,ne.jsx)(V.Z,{type:"submit",variant:"contained",disabled:P,children:t?"Update":"Add"})]})})]})})]}),(0,ne.jsx)(te.Z,{open:x,setOpen:Z,onConfirm:function(){i(t.id)},onCancel:function(){return Z(!1)}})]})})};function oe(e,t,n){var r=t[n];!0===t[n]?r=1:!1===t[n]&&(r=0);var a=e[n];return!0===e[n]?a=1:!1===e[n]&&(a=0),r<a?-1:r>a?1:0}var ie=function(e,t){return"desc"===e?function(e,n){return oe(e,n,t)}:function(e,n){return-oe(e,n,t)}};function ce(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]})),n.map((function(e){return e[0]}))}var se=[{id:"id",numeric:!0,label:"ID",align:"center"},{id:"name",numeric:!1,label:"Category Name",align:"left"},{id:"status",numeric:!1,label:"Status",align:"center"}];function le(e){var t=e.onSelectAllClick,n=e.order,r=e.orderBy,a=e.numSelected,o=e.rowCount,i=e.onRequestSort,c=e.selected;return(0,ne.jsxs)(d.Z,{children:[(0,ne.jsx)(u.Z,{children:a>0&&(0,ne.jsx)(h.Z,{padding:"none",colSpan:8,children:(0,ne.jsx)(de,{numSelected:c.length})})}),(0,ne.jsxs)(u.Z,{children:[(0,ne.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},children:(0,ne.jsx)(p.Z,{color:"primary",indeterminate:a>0&&a<o,checked:o>0&&a===o,onChange:t,inputProps:{"aria-label":"select all desserts"}})}),se.map((function(e){return(0,ne.jsx)(h.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&n,children:(0,ne.jsxs)(f.Z,{active:r===e.id,direction:r===e.id?n:"asc",onClick:(t=e.id,function(e){i(e,t)}),children:[e.label,r===e.id?(0,ne.jsx)(m.Z,{component:"span",sx:I.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})]})}var de=function(e){var t=e.numSelected;return(0,ne.jsxs)(x.Z,{sx:(0,o.Z)({p:0,pl:1,pr:1},t>0&&{color:function(e){return e.palette.secondary.main}}),children:[t>0?(0,ne.jsxs)(Z.Z,{color:"inherit",variant:"h4",children:[t," Selected"]}):(0,ne.jsx)(Z.Z,{variant:"h6",id:"tableTitle",children:"Nutrition"}),(0,ne.jsx)(m.Z,{sx:{flexGrow:1}}),t>0&&(0,ne.jsx)(v.Z,{title:"Delete",children:(0,ne.jsx)(g.Z,{size:"large",children:(0,ne.jsx)(M.Z,{fontSize:"small"})})})]})},ue=function(){var e=(0,l.Z)(),t=(0,F.I0)(),n=(0,s.useState)("asc"),i=(0,a.Z)(n,2),d=i[0],f=i[1],m=(0,s.useState)("calories"),x=(0,a.Z)(m,2),I=x[0],M=x[1],Q=(0,s.useState)([]),W=(0,a.Z)(Q,2),_=W[0],H=W[1],U=(0,s.useState)(0),V=(0,a.Z)(U,2),X=V[0],G=V[1],$=(0,s.useState)(5),J=(0,a.Z)($,2),K=J[0],Y=J[1],ee=(0,s.useState)(""),te=(0,a.Z)(ee,2),re=te[0],oe=te[1],se=(0,s.useState)(null),de=(0,a.Z)(se,2),ue=de[0],he=de[1],pe=(0,s.useState)(!1),fe=(0,a.Z)(pe,2),me=fe[0],xe=fe[1],Ze=function(){he(null),xe(!1)},ve=(0,s.useState)([]),ge=(0,a.Z)(ve,2),je=ge[0],be=ge[1],we=(0,F.v9)((function(e){return e.venueSetup})).venueCategories;(0,s.useEffect)((function(){t((0,O.fQ)())}),[t]);var ke=function(e,t){var n=e;if(oe(n||""),n){var r=t.filter((function(e){var t=!0,r=!1;return["name","status"].forEach((function(t){var a;null!==(a=e[t])&&void 0!==a&&a.toString().toLowerCase().includes(n.toString().toLowerCase())&&(r=!0)})),r||(t=!1),t}));be(r)}else be(t)};(0,s.useEffect)((function(){ke(re,we)}),[we]);var Se=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,t((0,O.LT)(n,(function(){t((0,O.fQ)())}),(function(){})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,r.Z)(c().mark((function e(n,r){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=(0,o.Z)((0,o.Z)({},r),{},{id:n,_method:"put"}),t((0,O.Ss)(a,(function(){t((0,O.fQ)())}),(function(){}))),xe(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(xe(!0),he(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t((0,O.tc)(n,(function(){xe(!1),he(null),t((0,O.fQ)())}),(function(){})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=(0,r.Z)(c().mark((function e(n,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,t((0,O.FP)(n,r));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,ne.jsxs)(B.Z,{title:"Category List",content:!1,children:[(0,ne.jsx)(j.Z,{children:(0,ne.jsxs)(b.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,ne.jsx)(b.ZP,{item:!0,xs:12,sm:6,children:(0,ne.jsx)(w.Z,{InputProps:{startAdornment:(0,ne.jsx)(k.Z,{position:"start",children:(0,ne.jsx)(E.Z,{fontSize:"small"})})},onChange:function(e){return ke(e.target.value,we)},placeholder:"Search Category",value:re,size:"small"})}),(0,ne.jsxs)(b.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:[(0,ne.jsx)(v.Z,{title:"Copy",children:(0,ne.jsx)(g.Z,{size:"large",children:(0,ne.jsx)(q.Z,{})})}),(0,ne.jsx)(v.Z,{title:"Print",children:(0,ne.jsx)(g.Z,{size:"large",children:(0,ne.jsx)(T.Z,{})})}),(0,ne.jsx)(v.Z,{title:"Filter",children:(0,ne.jsx)(g.Z,{size:"large",children:(0,ne.jsx)(N.Z,{})})}),(0,ne.jsx)(v.Z,{title:"Add Category",children:(0,ne.jsx)(S.Z,{color:"primary",size:"small",onClick:function(){xe(!0)},sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,ne.jsx)(L.Z,{fontSize:"small"})})})]})]})}),(0,ne.jsx)(C.Z,{children:(0,ne.jsxs)(y.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,ne.jsx)(le,{theme:e,numSelected:_.length,order:d,orderBy:I,onSelectAllClick:function(e){if(e.target.checked)if(_.length>0)H([]);else{var t=je.map((function(e){return e.name}));H(t)}else H([])},onRequestSort:function(e,t){f(I===t&&"asc"===d?"desc":"asc"),M(t)},rowCount:je.length,selected:_}),(0,ne.jsx)(P.Z,{children:ce(je,ie(d,I)).slice(X*K,X*K+K).map((function(t,n){if("number"===typeof t)return null;var r,a=(r=t.name,-1!==_.indexOf(r)),o="enhanced-table-checkbox-".concat(n);return(0,ne.jsxs)(u.Z,{hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,children:[(0,ne.jsx)(h.Z,{padding:"checkbox",sx:{pl:3},onClick:function(e){return function(e,t){var n=_.indexOf(t),r=[];-1===n?r=r.concat(_,t):0===n?r=r.concat(_.slice(1)):n===_.length-1?r=r.concat(_.slice(0,-1)):n>0&&(r=r.concat(_.slice(0,n),_.slice(n+1))),H(r)}(0,t.name)},children:(0,ne.jsx)(p.Z,{color:"primary",checked:a,inputProps:{"aria-labelledby":o}})}),(0,ne.jsx)(h.Z,{align:"center",component:"th",id:o,scope:"row",sx:{cursor:"pointer"},children:(0,ne.jsxs)(Z.Z,{variant:"subtitle1",sx:{color:"dark"===e.palette.mode?"grey.600":"grey.900"},children:["#",t.id," "]})}),(0,ne.jsx)(h.Z,{component:"th",id:o,scope:"row",sx:{cursor:"pointer"},children:(0,ne.jsx)(z.Z,{underline:"hover",color:"default",onClick:function(){return ye(t)},sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:t.name})}),(0,ne.jsx)(h.Z,{align:"center",children:(0,ne.jsx)(A.Z,{checked:t.status,color:"".concat(t.status?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e,n){ze(t,n)}})})]},n)}))})]})}),(0,ne.jsx)(R.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:je.length,rowsPerPage:K,page:X,onPageChange:function(e,t){G(t)},onRowsPerPageChange:function(e){Y(parseInt(null===e||void 0===e?void 0:e.target.value,10)),G(0)}}),(0,ne.jsx)(D.Z,{maxWidth:"sm",fullWidth:!0,onClose:Ze,open:me,sx:{"& .MuiDialog-paper":{p:0}},children:me&&(0,ne.jsx)(ae,{category:ue,handleCreate:Se,handleUpdate:Ce,handleDelete:Pe,open:me,handleCloseDialog:Ze,onCancel:Ze})})]})}},70024:function(e,t,n){n.d(t,{Z:function(){return S}});var r=n(4942),a=n(63366),o=n(87462),i=n(47313),c=n(94146),s=n(21921),l=n(17551),d=n(91615),u=n(97423),h=n(77342),p=n(17592),f=n(77430),m=n(32298);function x(e){return(0,m.Z)("MuiSwitch",e)}var Z=(0,f.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),v=n(46417),g=["className","color","edge","size","sx"],j=(0,p.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,d.Z)(n.edge))],t["size".concat((0,d.Z)(n.size))]]}})((function(e){var t,n=e.ownerState;return(0,o.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===n.edge&&{marginLeft:-8},"end"===n.edge&&{marginRight:-8},"small"===n.size&&(t={width:40,height:24,padding:7},(0,r.Z)(t,"& .".concat(Z.thumb),{width:16,height:16}),(0,r.Z)(t,"& .".concat(Z.switchBase),(0,r.Z)({padding:4},"&.".concat(Z.checked),{transform:"translateX(16px)"})),t))})),b=(0,p.ZP)(u.Z,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,r.Z)({},"& .".concat(Z.input),t.input),"default"!==n.color&&t["color".concat((0,d.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,r.Z)(t,"&.".concat(Z.checked),{transform:"translateX(20px)"}),(0,r.Z)(t,"&.".concat(Z.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),(0,r.Z)(t,"&.".concat(Z.checked," + .").concat(Z.track),{opacity:.5}),(0,r.Z)(t,"&.".concat(Z.disabled," + .").concat(Z.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),(0,r.Z)(t,"& .".concat(Z.input),{left:"-100%",width:"300%"}),t}),(function(e){var t,n=e.theme,a=e.ownerState;return(0,o.Z)({"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.action.activeChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==a.color&&(t={},(0,r.Z)(t,"&.".concat(Z.checked),(0,r.Z)({color:(n.vars||n).palette[a.color].main,"&:hover":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette[a.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,l.Fq)(n.palette[a.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Z.disabled),{color:n.vars?n.vars.palette.Switch["".concat(a.color,"DisabledColor")]:"".concat("light"===n.palette.mode?(0,l.$n)(n.palette[a.color].main,.62):(0,l._j)(n.palette[a.color].main,.55))})),(0,r.Z)(t,"&.".concat(Z.checked," + .").concat(Z.track),{backgroundColor:(n.vars||n).palette[a.color].main}),t))})),w=(0,p.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),k=(0,p.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),S=i.forwardRef((function(e,t){var n=(0,h.Z)({props:e,name:"MuiSwitch"}),r=n.className,i=n.color,l=void 0===i?"primary":i,u=n.edge,p=void 0!==u&&u,f=n.size,m=void 0===f?"medium":f,Z=n.sx,S=(0,a.Z)(n,g),C=(0,o.Z)({},n,{color:l,edge:p,size:m}),y=function(e){var t=e.classes,n=e.edge,r=e.size,a=e.color,i=e.checked,c=e.disabled,l={root:["root",n&&"edge".concat((0,d.Z)(n)),"size".concat((0,d.Z)(r))],switchBase:["switchBase","color".concat((0,d.Z)(a)),i&&"checked",c&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},u=(0,s.Z)(l,x,t);return(0,o.Z)({},t,u)}(C),P=(0,v.jsx)(k,{className:y.thumb,ownerState:C});return(0,v.jsxs)(j,{className:(0,c.Z)(y.root,r),sx:Z,ownerState:C,children:[(0,v.jsx)(b,(0,o.Z)({type:"checkbox",icon:P,checkedIcon:P,ref:t,ownerState:C},S,{classes:(0,o.Z)({},y,{root:y.switchBase})})),(0,v.jsx)(w,{className:y.track,ownerState:C})]})}))}}]);