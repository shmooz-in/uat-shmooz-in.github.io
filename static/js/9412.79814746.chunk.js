"use strict";(self.webpackChunkshmooz_admin=self.webpackChunkshmooz_admin||[]).push([[9412],{81628:function(e,n,r){var t=r(1413),a=r(93433),i=r(29439),l=r(47313),s=r(17592),o=r(17551),u=r(9506),d=r(70501),c=r(47131),m=r(24193),p=r(16031),v=r(58823),h=r(81195),x=r(19713),f=r(46417),g=(0,s.ZP)("div")((function(e){var n=e.theme;return{width:64,height:64,fontSize:24,display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",margin:n.spacing(.5),borderRadius:n.shape.borderRadius,"&:hover":{opacity:.72}}}));function b(e){var n=e.setFieldValue,r=e.fieldName,s=e.multiple,b=e.attachments,Z=(0,l.useState)([]),y=(0,i.Z)(Z,2),j=y[0],k=y[1];(0,l.useEffect)((function(){b?Array.isArray(b)?k(b):k([b]):k([])}),[b]);var S=(0,l.useCallback)((function(e){var t=[];t=e.map((function(e){var n=new FileReader;return n.onabort=function(){return console.log("file reading was aborted")},n.onerror=function(){return console.log("file reading has failed")},n.onload=function(){var e=n.result;console.log(e)},n.readAsArrayBuffer(e),Object.assign(e,{preview:URL.createObjectURL(e)})})),s&&(null===j||void 0===j?void 0:j.length)>0&&(t=[].concat((0,a.Z)(t),(0,a.Z)(j))),k(t),n(r,s?t:e[0])}),[k,n,j]),C=(0,v.uI)({onDrop:S,multiple:s,noDrag:!s,maxFiles:5}),P=C.getRootProps,w=C.getInputProps,E=C.isDragActive;return(0,f.jsxs)(f.Fragment,{children:[null===j||void 0===j?void 0:j.map((function(e){var t=e.name,a=e.preview,i=(0,p.isString)(e)?e:t;return(0,f.jsxs)(u.Z,{sx:{p:0,m:.5,width:64,height:64,borderRadius:.25,overflow:"hidden",position:"relative"},children:[(0,f.jsx)(d.Z,{variant:"outlined",component:"img",src:(0,p.isString)(e)?e:a,sx:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",borderRadius:1}}),(0,f.jsx)(u.Z,{sx:{top:6,right:6,position:"absolute"},children:(0,f.jsx)(c.Z,{size:"small",onClick:function(){return function(e){var t=s?j.filter((function(n){return n!==e})):null;k(t),n(r,t)}(e)},sx:{p:"1px",color:"common.white",bgcolor:function(e){return(0,o.Fq)(e.palette.grey[900],.72)},"&:hover":{bgcolor:function(e){return(0,o.Fq)(e.palette.grey[900],.48)}}},children:(0,f.jsx)(h.Z,{})})})]},i)})),(0,f.jsxs)(g,(0,t.Z)((0,t.Z)({},P()),{},{sx:(0,t.Z)({},E&&{opacity:.72}),children:[(0,f.jsx)("input",(0,t.Z)({},w())),(0,f.jsx)(m.Z,{variant:"outlined",size:"small",sx:{p:0,minWidth:0},children:(0,f.jsx)(x.Z,{})})]}))]})}n.Z=function(e){return(0,f.jsx)(u.Z,{sx:{display:"flex"},children:(0,f.jsx)(b,(0,t.Z)({},e))})}},69412:function(e,n,r){r.r(n),r.d(n,{default:function(){return Me}});var t=r(93433),a=r(4942),i=r(45987),l=r(1413),s=r(29439),o=r(47313),u=r(9506),d=r(5297),c=r(65280),m=r(24193),p=r(85281),v=r(79429),h=r(16031),x=r.n(h),f=r(3463),g=r(2135),b=r(24631),Z=r(46417),y=["errorText"];function j(e){e.errorText;var n=(0,i.Z)(e,y),r=(0,v.U$)(e),t=(0,s.Z)(r,2),a=t[0],o=t[1];return(0,Z.jsx)(b.Z,(0,l.Z)((0,l.Z)({type:"text",error:o.touched&&o.error&&!0,helperText:function(){var e=(0,h.at)(o,"touched","error"),n=(0,s.Z)(e,2),r=n[0],t=n[1];return r&&t?t:null}()},a),n))}var k=r(15480),S=r(1550),C=r(83929),P=r(44758),w=["label"];function E(e){var n=e.label,r=(0,i.Z)(e,w),t=(0,v.U$)(e),a=(0,s.Z)(t,3),o=a[0],u=a[1],d=a[2].setValue,c=function(){var e=(0,h.at)(u,"touched","error"),n=(0,s.Z)(e,2),r=n[0],t=n[1];return r&&t?(0,Z.jsx)(k.Z,{children:t}):null};return(0,Z.jsxs)(S.Z,(0,l.Z)((0,l.Z)({},r),{},{children:[(0,Z.jsx)(C.Z,{value:o.checked,checked:o.checked,control:(0,Z.jsx)(P.Z,(0,l.Z)((0,l.Z)({},o),{},{onChange:function(e){d(e.target.checked)}})),label:n}),(0,Z.jsx)(c,{})]}))}var _=r(51405),F=["data"];function N(e){var n=e.data,r=(0,i.Z)(e,F),t=(0,v.U$)(e),a=(0,s.Z)(t,2),o=a[0],u=a[1],d=o.value,c=(0,h.at)(u,"touched","error"),m=(0,s.Z)(c,2),p=m[0],x=m[1],f=p&&x&&!0;return(0,Z.jsx)(b.Z,(0,l.Z)((0,l.Z)((0,l.Z)({select:!0,error:u.touched&&u.error&&!0,helperText:f?(0,Z.jsx)(k.Z,{children:x}):null},o),r),{},{value:d||"",children:n.map((function(e,n){return(0,Z.jsx)(_.Z,{value:e.value,children:e.label},n)}))}))}N.defaultProps={data:[]};var V=N;r(30411);var A=r(81628),q=["label","value"];function M(e){e.label;var n=e.value,r=(0,i.Z)(e,q),t=(0,v.U$)(e),a=(0,s.Z)(t,3),l=(a[0],a[1],a[2].setValue);return(0,Z.jsx)(A.Z,{attachments:n?[n]:[],setFieldValue:function(e,n){l(n||[])},fieldName:r.name})}r(70816);var O,T="checkoutForm",W={firstName:{name:"firstName",label:"First name*",requiredErrorMsg:"First name is required"},lastName:{name:"lastName",label:"Last name*",requiredErrorMsg:"Last name is required"},address1:{name:"address1",label:"Address Line 1*",requiredErrorMsg:"Address Line 1 is required"},address2:{name:"address2",label:"Address Line 2"},city:{name:"city",label:"City*",requiredErrorMsg:"City is required"},state:{name:"state",label:"State/Province/Region"},zipcode:{name:"zipcode",label:"Zipcode*",requiredErrorMsg:"Zipcode is required",invalidErrorMsg:"Zipcode is not valid (e.g. 70000)"},country:{name:"country",label:"Country*",requiredErrorMsg:"Country is required"},useAddressForPaymentDetails:{name:"useAddressForPaymentDetails",label:"Use this address for payment details"},nameOnCard:{name:"nameOnCard",label:"Name on card*",requiredErrorMsg:"Name on card is required"},cardNumber:{name:"cardNumber",label:"Card number*",requiredErrorMsg:"Card number is required",invalidErrorMsg:"Card number is not valid (e.g. 4111111111111)"},expiryDate:{name:"expiryDate",label:"Expiry date*",requiredErrorMsg:"Expiry date is required",invalidErrorMsg:"Expiry date is not valid"},cvv:{name:"cvv",label:"CVV*",requiredErrorMsg:"CVV is required",invalidErrorMsg:"CVV is invalid (e.g. 357)"}},z=W,R=(z.firstName,z.lastName,z.address1,z.city,z.zipcode,z.country,z.nameOnCard,z.cardNumber,z.expiryDate,z.cvv,[f.Ry().shape({}),f.Ry().shape({})]),D=W,B=D.firstName,I=D.lastName,L=D.address1,U=D.city,G=D.zipcode,H=D.country,J=D.useAddressForPaymentDetails,$=D.nameOnCard,K=D.cardNumber,Q=D.expiryDate,X=D.cvv,Y=(O={},(0,a.Z)(O,B.name,""),(0,a.Z)(O,I.name,""),(0,a.Z)(O,L.name,""),(0,a.Z)(O,U.name,""),(0,a.Z)(O,G.name,""),(0,a.Z)(O,H.name,""),(0,a.Z)(O,J.name,!1),(0,a.Z)(O,$.name,""),(0,a.Z)(O,K.name,""),(0,a.Z)(O,Q.name,""),(0,a.Z)(O,X.name,""),r(19860)),ee=function(e){return{stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)},wrapper:{margin:e.spacing(1),position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%"}}},ne=r(33497),re=r(48384),te=r(25823),ae=r(9019),ie=r(61113),le=r(63318),se=function(e){var n,r,t,a=e.setting,i=null!==a&&void 0!==a&&a.details?null===(n=JSON.parse(null===a||void 0===a||null===(r=a.details)||void 0===r?void 0:r.replace(/\n/g,"")))||void 0===n?void 0:n.options:[],l=[];switch(Array.isArray(i)&&i.length>0?l=i.map((function(e,n){return{value:n,label:e}})):i&&(null===(t=Object.keys(i))||void 0===t?void 0:t.length)>0&&Object.keys(i).forEach((function(e){l.push({value:e,label:i[e]})})),a.type){case"text":return(0,Z.jsx)(j,{name:a.key,label:a.display_name,fullWidth:!0});case"select_dropdown":return(0,Z.jsx)(V,{name:a.key,label:a.display_name,data:l,fullWidth:!0});case"text_area":return(0,Z.jsx)(j,{name:a.key,label:a.display_name,multiline:!0,fullWidth:!0});case"image":return(0,Z.jsxs)(ae.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(ie.Z,{variant:"body2",children:a.display_name})}),(0,Z.jsxs)(ae.ZP,{item:!0,xs:12,sm:8,children:[(0,Z.jsx)(M,{name:a.key,label:a.display_name,value:a.value}),";"]})]});case"checkbox":return(0,Z.jsx)(E,{name:a.key,label:a.display_name,type:"checkbox"});case"double":return(0,Z.jsx)(j,{name:a.key,label:a.display_name,type:"number",fullWidth:!0});case"double_range":return(0,Z.jsxs)(ae.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(ie.Z,{variant:"caption",children:a.display_name})}),(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(le.ZP,{defaultValue:[20,37],valueLabelDisplay:"auto",disableSwap:!0,marks:[{value:0,label:"0%"},{value:100,label:"100%"}]})})]});default:return(0,Z.jsx)("div",{children:"Not Found"})}};function oe(e){var n=e.settings,r=e.tabName,a=o.useMemo((function(){return(0,t.Z)(n).sort((function(e,n){return e.order-n.order}))}),[n]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(ie.Z,{variant:"h6",gutterBottom:!0,children:r}),(0,Z.jsx)(ae.ZP,{container:!0,spacing:3,children:a.map((function(e){return(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(se,{setting:e})},e.key)}))})]})}var ue=r(15861),de=r(64687),ce=r.n(de),me=r(50301),pe=r(94469),ve=r(33604),he=r(96467),xe=r(41727),fe=r(4117),ge=r(43394),be=r(97101),Ze=r(12401),ye=r(66182),je=r(85554),ke=r(5866),Se=[{value:"text",label:"Text"},{value:"select_dropdown",label:"Select"},{value:"text_area",label:"Text Area"},{value:"image",label:"Image"},{value:"checkbox",label:"Checkbox"},{value:"double",label:"Double"},{value:"double_range",label:"Range"}],Ce=(0,o.forwardRef)((function(e,n){return(0,Z.jsx)(me.Z,(0,l.Z)({direction:"left",ref:n},e))})),Pe=f.Ry().shape({});function we(e){var n,r,t,a=e.setting,i=null!==a&&void 0!==a&&a.details?null===(n=JSON.parse(null===a||void 0===a||null===(r=a.details)||void 0===r?void 0:r.replace(/\n/g,"")))||void 0===n?void 0:n.options:[],l=[];switch(Array.isArray(i)&&i.length>0?l=i.map((function(e,n){return{value:n,label:e}})):i&&(null===(t=Object.keys(i))||void 0===t?void 0:t.length)>0&&Object.keys(i).forEach((function(e){l.push({value:e,label:i[e]})})),a.type){case"text":return(0,Z.jsx)(j,{name:"value",label:"Value",fullWidth:!0});case"select_dropdown":return(0,Z.jsx)(V,{name:"value",label:"Value",data:l,fullWidth:!0});case"text_area":return(0,Z.jsx)(j,{name:"value",label:"Value",multiline:!0,fullWidth:!0});case"image":return(0,Z.jsxs)(ae.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:4,children:(0,Z.jsx)(ie.Z,{variant:"body2",children:a.display_name})}),(0,Z.jsxs)(ae.ZP,{item:!0,xs:12,sm:8,children:[(0,Z.jsx)(M,{name:"value",label:"Value",value:a.value}),";"]})]});case"checkbox":return(0,Z.jsx)(E,{name:"value",label:"Value",type:"checkbox"});case"double":return(0,Z.jsx)(j,{name:"value",label:"Value",type:"number",fullWidth:!0});case"double_range":return(0,Z.jsxs)(ae.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(ie.Z,{variant:"caption",children:a.display_name})}),(0,Z.jsx)(ae.ZP,{item:!0,xs:12,sm:6,children:(0,Z.jsx)(le.ZP,{defaultValue:[20,37],valueLabelDisplay:"auto",disableSwap:!0,marks:[{value:0,label:"0%"},{value:100,label:"100%"}]})})]});default:return(0,Z.jsx)("div",{children:"Not Found"})}}var Ee=function(e){var n=e.open,r=e.handleCloseDialog,t=e.editingAdminSetting,a=void 0===t?{}:t,i=(0,je.I0)(),s=function(e){r(),i((0,ke.ss)({open:!0,message:"Admin Setting Updated successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1}))},o=function(){var e=(0,ue.Z)(ce().mark((function e(n,r,t,a,i){return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r,!0,!0);case 2:i(r,n[r].join(", "));case 3:case"end":return e.stop()}}),e)})));return function(n,r,t,a,i){return e.apply(this,arguments)}}(),d=function(e){var n=e.setFieldTouched,r=void 0===n?null:n,t=e.setErrors,a=void 0===t?null:t,i=e.setFieldError,l=void 0===i?null:i;return function(){var e=(0,ue.Z)(ce().mark((function e(n){var t,i,s,u,d;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.data)||void 0===t||!t.errors){e.next=5;break}u=null===n||void 0===n||null===(s=n.data)||void 0===s?void 0:s.errors,Object.keys(u).forEach((function(e){o(u,e,r,a,l)})),e.next=9;break;case 5:if(null===n||void 0===n||null===(i=n.data)||void 0===i||!i.message){e.next=9;break}return e.next=8,r("submit",!0,!0);case 8:l("submit",null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return(0,Z.jsx)(pe.Z,{open:n,TransitionComponent:Ce,keepMounted:!0,onClose:r,sx:{"&>div:nth-of-type(3)":{justifyContent:"flex-end","&>div":{m:0,borderRadius:"0px",maxWidth:450,maxHeight:"100%"}}},children:n&&(0,Z.jsx)(v.J9,{initialValues:(0,l.Z)({submit:null,display_name:"",key:"",group:"",order:1,details:""},a),enableReinitialize:!0,validationSchema:Pe,onSubmit:function(){var e=(0,ue.Z)(ce().mark((function e(n,r){var t,a,o,u,c;return ce().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.setErrors,r.setStatus,r.setSubmitting,a=r.setFieldTouched,o=r.setFieldError,u=(0,l.Z)({},n),console.log(n),c={setFieldTouched:a,setErrors:t,setFieldError:o};try{u.id?(u._method="put",i((0,re.im)(u,s,d(c)))):u.id||i((0,re.m$)(u,s,d(c)))}catch(m){i((0,ke.ss)({open:!0,message:"An Error Occured",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},close:!1})),console.error(m)}case 5:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:function(e){var n,t=e.errors,i=(e.setFieldValue,e.handleBlur),l=e.handleChange,s=e.handleSubmit,o=(e.isSubmitting,e.touched),d=e.values;return(0,Z.jsx)("form",{noValidate:!0,onSubmit:s,id:"edit-admin",children:(0,Z.jsxs)(ge._,{dateAdapter:be.H,children:[(0,Z.jsx)(ve.Z,{children:"Create Setting for Group - ".concat(a.group)}),(0,Z.jsx)(he.Z,{children:(0,Z.jsxs)(ae.ZP,{container:!0,spacing:Ze.dv,sx:{mt:.25},children:[(0,Z.jsx)(ae.ZP,{item:!0,xs:12,children:(0,Z.jsx)(b.Z,{id:"adminSettings-group",fullWidth:!0,label:"Group",name:"group",disabled:!0,value:d.group,onBlur:i,onChange:l,error:Boolean(o.group&&t.group),helperText:o.group&&t.group})}),(0,Z.jsx)(ae.ZP,{item:!0,xs:12,children:(0,Z.jsx)(b.Z,{id:"adminSettings-display-name",fullWidth:!0,label:"Display Name",name:"display_name",value:d.display_name,onBlur:i,onChange:l,error:Boolean(o.display_name&&t.display_name),helperText:o.display_name&&t.display_name})}),(0,Z.jsx)(ae.ZP,{item:!0,xs:12,children:(0,Z.jsx)(b.Z,{id:"adminSettings-key",fullWidth:!0,label:"Key",name:"key",value:d.key,onBlur:i,onChange:l,error:Boolean(o.key&&t.key),helperText:o.key&&t.key,InputProps:{startAdornment:(0,Z.jsx)(xe.Z,{position:"start",children:null===(n=d.group)||void 0===n?void 0:n.toLowerCase()})}})}),(0,Z.jsx)(ae.ZP,{item:!0,md:6,xs:12,children:(0,Z.jsx)(b.Z,{id:"standard-select-type",name:"type",select:!0,label:"Select Type*",value:d.type,fullWidth:!0,onBlur:i,onChange:l,children:Se.map((function(e){return(0,Z.jsx)(_.Z,{value:e.value,children:e.label},e.value)}))})}),(0,Z.jsx)(ae.ZP,{item:!0,md:6,xs:12,children:(0,Z.jsx)(b.Z,{id:"standard-order",name:"order",type:"number",label:"Setting Order*",value:d.order,fullWidth:!0,inputProps:{min:0},onBlur:i,onChange:l})}),(0,Z.jsx)(ae.ZP,{item:!0,xs:12,children:(null===d||void 0===d?void 0:d.type)&&(0,Z.jsx)(we,{setting:d})})]})}),(0,Z.jsxs)(fe.Z,{children:[t.submit&&(0,Z.jsx)(u.Z,{sx:{ml:3,flex:1},children:(0,Z.jsx)(k.Z,{error:!0,children:t.submit})}),(0,Z.jsx)(ye.Z,{children:(0,Z.jsx)(m.Z,{variant:"text",color:"error",onClick:r,children:"Close"})})]}),(0,Z.jsx)(u.Z,{sx:{mt:2}})]})})}})})},_e=["children","value","index"],Fe=T;function Ne(e){var n={};return function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";x().forEach(r,(function(r,a){!x().isObject(r)||r instanceof File?n["".concat(t).concat(a)]=r:e(r,"".concat(t).concat(a,"-"))}))}(e),n}var Ve=function(e,n){var r=(0,l.Z)({},e),t=Object.keys(r),a=t.filter((function(e){return r[e]!==n[e]}));return t.forEach((function(e){a.includes(e)||delete r[e]})),r};function Ae(e){var n=e.children,r=e.value,t=e.index,a=(0,i.Z)(e,_e);return(0,Z.jsx)("div",(0,l.Z)((0,l.Z)({role:"tabpanel",hidden:r!==t,id:"simple-tabpanel-".concat(t),"aria-labelledby":"simple-tab-".concat(t)},a),{},{children:r===t&&(0,Z.jsx)(u.Z,{sx:{p:0},children:n})}))}var qe=function(e){var n=e.settingGroups,r=e.setActiveTab,a=o.useState((0,t.Z)(n.keys())[0]),i=(0,s.Z)(a,2),u=i[0],m=i[1],p=(0,o.useMemo)((function(){return(0,t.Z)(n.keys())}),n),h=(0,v.u6)(),x=h.values;h.isValid,h.submitForm,(0,o.useMemo)((function(){return null!==n&&void 0!==n&&n.get("Site")?n.get("Site"):new Set}),[n]);return(0,o.useEffect)((function(){r(u)}),[u]),(0,Z.jsx)(ne.Z,{title:"",children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(d.Z,{value:u,indicatorColor:"primary",onChange:function(e,n){console.log(x),m(n)},sx:{mb:3,minHeight:"auto","& button":{minWidth:100},"& a":{minHeight:"auto",minWidth:10,py:1.5,px:1,mr:2.25,color:"grey.600"},"& a.Mui-selected":{color:"primary.main"}},"aria-label":"simple tabs example",variant:"scrollable",children:p.map((function(e,n){return(0,Z.jsx)(c.Z,(0,l.Z)({component:g.rU,to:"#",value:e,label:e},function(e){return{key:e,id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(e)))}))}),p.map((function(e,r){return(0,Z.jsx)(Ae,{value:u,index:e,children:(0,Z.jsx)(oe,{settings:null===n||void 0===n?void 0:n.get(e),tabName:e})},r)}))]})})};var Me=function(){var e=(0,Y.Z)(),n=ee(e),r=(0,o.useState)(0),t=(0,s.Z)(r,2),i=t[0],u=(t[1],(0,o.useState)("")),d=(0,s.Z)(u,2),c=d[0],h=d[1],f=(0,o.useState)({}),g=(0,s.Z)(f,2),b=g[0],y=g[1],j=(0,o.useState)(new Map),k=(0,s.Z)(j,2),S=k[0],C=k[1],P=R[i],w=o.useState(!1),E=(0,s.Z)(w,2),_=E[0],F=E[1],N=(0,o.useState)(null),V=(0,s.Z)(N,2),A=V[0],q=V[1],M=(0,te.I0)();(0,o.useEffect)((function(){M((0,re.Gw)())}),[M]);var O=(0,te.v9)((function(e){return e.adminSettings})).settings;(0,o.useEffect)((function(){if((null===O||void 0===O?void 0:O.length)>0){var e=function(e){var n={},r=new Map;return e.forEach((function(e){var t,i=r.get(e.group);i?i.add(e):r.set(e.group,new Set([e])),e.key=null===(t=e.key)||void 0===t?void 0:t.replace("-",".");var o=e.key.split("."),u=(0,s.Z)(o,2),d=u[0],c=u[1];n=(0,l.Z)((0,l.Z)({},n),{},(0,a.Z)({},d,(0,l.Z)((0,l.Z)({},n[d]),{},(0,a.Z)({},c,e.value))))})),console.log(r),console.log(n),{initialValues:n,settingGroups:r}}(JSON.parse(JSON.stringify(O)));y(e.initialValues),C(e.settingGroups)}}),[O]);var T=(0,v.TA)({initialValues:b,enableReinitialize:!0,validationSchema:P,onSubmit:function(e,n){var r=Ne(e);console.log(r);var t=Ne(T.initialValues);console.log(t);var a=Ve(r,t);console.log(a),x().isEmpty(a)||M((0,re.uW)(a,(function(){n.setTouched({}),n.setSubmitting(!1)}),(function(){n.setTouched({}),n.setSubmitting(!1)})))}}),W=T.isSubmitting;return T.touched,(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ee,{open:_,editingAdminSetting:A,handleCloseDialog:function(e){F(!1)}}),(0,Z.jsx)(v.Hy,{value:T,children:(0,Z.jsxs)(v.l0,{id:Fe,children:[S.size>0&&(0,Z.jsx)(qe,{settingGroups:S,setActiveTab:h}),(0,Z.jsxs)("div",{style:n.buttons,children:[(0,Z.jsxs)("div",{style:n.wrapper,children:[(0,Z.jsx)(m.Z,{disabled:W,onClick:function(){return function(e){var n;q({group:c,order:((null===(n=S.get(c))||void 0===n?void 0:n.size)||0)+1}),F(!0)}()},variant:"contained",color:"primary",sx:n.button,children:"Create New ".concat(c," Setting")}),W&&(0,Z.jsx)(p.Z,{size:24,sx:n.buttonProgress})]}),(0,Z.jsxs)("div",{style:n.wrapper,children:[(0,Z.jsx)(m.Z,{disabled:W||!T.dirty,type:"submit",variant:"contained",color:"primary",sx:n.button,children:"Save Changes"}),W&&(0,Z.jsx)(p.Z,{size:24,sx:n.buttonProgress})]})]})]})})]})}}}]);