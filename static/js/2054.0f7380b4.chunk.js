"use strict";(self.webpackChunkshmooz=self.webpackChunkshmooz||[]).push([[2054],{73106:function(e,n,r){r(7276);var t=r(50169),i=r(54560),o=r(969),a=r(46650),c=r(12283),l=r(85535),s=r(34160),d=r(31342),u=r(45263);n.Z=function(e){var n=e.open,r=void 0!==n&&n,h=e.setOpen,m=e.onConfirm,p=e.onCancel,x=(0,t.Z)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(i.Z,{open:r,onClose:function(){h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",sx:{p:3},children:r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.Z,{id:"alert-dialog-title",children:"Confirm Action"}),(0,u.jsx)(a.Z,{children:(0,u.jsx)(c.Z,{id:"alert-dialog-description",children:(0,u.jsx)(l.Z,{variant:"body2",component:"span",children:"Are you sure you want to proceed with the action"})})}),(0,u.jsxs)(s.Z,{sx:{pr:2.5},children:[(0,u.jsx)(d.Z,{sx:{color:x.palette.error.dark,borderColor:x.palette.error.dark},onClick:m,color:"secondary",children:"Delete"}),(0,u.jsx)(d.Z,{variant:"contained",size:"small",onClick:p,autoFocus:!0,children:"Cancel"})]})]})})})}},9014:function(e,n,r){var t=r(1413),i=r(45987),o=r(50169),a=r(38709),c=r(45263),l=["color","outline","size","customSize","sx"];n.Z=function(e){var n=e.color,r=e.outline,s=e.size,d=e.customSize,u=e.sx,h=(0,i.Z)(e,l),m=(0,o.Z)(),p=n&&!r&&{color:m.palette.background.paper,bgcolor:"".concat(n,".main")},x=r&&{color:n?"".concat(n,".main"):"primary.main",bgcolor:m.palette.background.paper,border:"2px solid",borderColor:n?"".concat(n,".main"):"primary.main"},g={};switch(s){case"custom":g={width:m.spacing(d),height:m.spacing(d)};break;case"badge":g={width:m.spacing(3.5),height:m.spacing(3.5)};break;case"xs":g={width:m.spacing(4.25),height:m.spacing(4.25)};break;case"sm":g={width:m.spacing(5),height:m.spacing(5)};break;case"lg":g={width:m.spacing(9),height:m.spacing(9)};break;case"xl":g={width:m.spacing(10.25),height:m.spacing(10.25)};break;case"md":g={width:m.spacing(7.5),height:m.spacing(7.5)};break;default:g={}}return(0,c.jsx)(a.Z,(0,t.Z)({sx:(0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},p),x),g),u)},h))}},30262:function(e,n,r){var t=r(1413),i=r(7276),o=r(5055),a=r(85535),c=r(42037),l=r(34867),s=r(9340),d=r(62154),u=r(55241),h=r(29810),m=r(20370),p=r(50169),x=r(45263),g=function(e){var n=e.numSelected,r=e.actionComponent;return(0,x.jsxs)(o.Z,{sx:(0,t.Z)({p:0,pl:1,pr:1},n>0&&{color:function(e){return e.palette.secondary.main}}),children:[(0,x.jsxs)(a.Z,{color:"inherit",variant:"h4",children:[n," Selected"]}),(0,x.jsx)(c.Z,{sx:{flexGrow:1}}),r]})};n.Z=function(e){var n=e.hideSelectAll,r=e.onSelectAllClick,t=e.order,o=e.orderBy,f=e.numSelected,Z=e.rowCount,v=e.onRequestSort,j=e.selected,b=e.headCells,k=e.hideActions,y=e.actionComponent,C=(0,p.Z)(),P=(0,i.useMemo)((function(){return(null===b||void 0===b?void 0:b.length)>7?7:null===b||void 0===b?void 0:b.length}),[null===b||void 0===b?void 0:b.length]);return(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(s.Z,{children:f>0&&(0,x.jsx)(d.Z,{padding:"none",colSpan:P,children:(0,x.jsx)(g,{numSelected:j.length,actionComponent:y})})}),(0,x.jsxs)(s.Z,{children:[!n&&(0,x.jsx)(d.Z,{padding:"checkbox",sx:{pl:3},children:(0,x.jsx)(u.Z,{color:"primary",indeterminate:f>0&&f<Z,checked:Z>0&&f===Z,onChange:r,inputProps:{"aria-label":"select all desserts"}})}),b.map((function(e){return(0,x.jsx)(d.Z,{align:e.align,padding:e.disablePadding?"none":"normal",sortDirection:o===e.id&&t,children:(0,x.jsxs)(h.Z,{active:o===e.id,direction:o===e.id?t:"asc",onClick:(n=e.id,function(e){v(e,n)}),children:[e.label,o===(null===e||void 0===e?void 0:e.id)?(0,x.jsx)(c.Z,{component:"span",sx:m.Z,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var n})),!k&&(0,x.jsx)(d.Z,{sortDirection:!1,align:"center",sx:{pr:3},children:(0,x.jsx)(a.Z,{variant:"subtitle1",sx:{color:"dark"===C.palette.mode?"grey.600":"grey.900"},children:"Action"})})]})]})}},72054:function(e,n,r){r.r(n),r.d(n,{default:function(){return xe}});var t=r(29439),i=r(7276),o=r(50169),a=r(35970),c=r(65173),l=r(44390),s=r(11430),d=r(20495),u=r(5372),h=r(58735),m=r(20888),p=r(71516),x=r(9340),g=r(62154),f=r(85535),Z=r(41906),v=r(80635),j=r(44570),b=r(50956),k=r(49321),y=r(13209),C=r(45987),P=r(15861),S=r(1413),w=r(64687),z=r.n(w),_=r(2989),E=r(54560),A=r(969),O=r(46650),F=r(98125),I=r(34160),T=r(42037),D=r(54730),q=r(31342),R=r(10929),V=r(37983),B=r(43767),M=r(19972),W=r(11678),H=r(66872),L=r(5894),U=r(14197),X=r(56742),G=r(4471),J=r(63085),N=r.n(J),Y=r(82575),K=r.n(Y),Q=r(45263),$=["image"],ee=(0,i.forwardRef)((function(e,n){return(0,Q.jsx)(_.Z,(0,S.Z)({direction:"left",ref:n},e))})),ne=H.Ry().shape({name:H.Z_().required("Title is required")}),re=function(e){var n=e.open,r=e.handleCloseDialog,t=e.editingPaymentPlatform,i=void 0===t?{}:t,o=(0,X.I0)(),a=function(){r(),o((0,G.ss)({open:!0,message:"Payment Platform Updated successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},close:!1}))},s=function(){var e=(0,P.Z)(z().mark((function e(n,r,t,i,o){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(r,!0,!0);case 2:o(r,n[r].join(", "));case 3:case"end":return e.stop()}}),e)})));return function(n,r,t,i,o){return e.apply(this,arguments)}}(),d=function(e){var n=e.setFieldTouched,r=void 0===n?null:n,t=e.setErrors,i=void 0===t?null:t,o=e.setFieldError,a=void 0===o?null:o;return function(){var e=(0,P.Z)(z().mark((function e(n){var t,o,c,l,d;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n||void 0===n||null===(t=n.data)||void 0===t||!t.errors){e.next=5;break}l=null===n||void 0===n||null===(c=n.data)||void 0===c?void 0:c.errors,Object.keys(l).forEach((function(e){s(l,e,r,i,a)})),e.next=9;break;case 5:if(null===n||void 0===n||null===(o=n.data)||void 0===o||!o.message){e.next=9;break}return e.next=8,r("submit",!0,!0);case 8:a("submit",null===n||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()};return(0,Q.jsx)(E.Z,{open:n,TransitionComponent:ee,keepMounted:!0,onClose:r,sx:{"&>div:nth-of-type(3)":{justifyContent:"flex-end","&>div":{m:0,borderRadius:"0px",maxWidth:450,maxHeight:"100%"}}},children:n&&(0,Q.jsx)(L.J9,{initialValues:(0,S.Z)((0,S.Z)({submit:null,name:"",is_active:!0,subscription_enabled:!0},i),{},{image:K()(i.image)?[i.image]:null}),enableReinitialize:!0,validationSchema:ne,onSubmit:function(){var e=(0,P.Z)(z().mark((function e(n,r){var t,i,c,l,s,u,h;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.setErrors,i=r.setFieldTouched,c=r.setFieldError,l=n.image,s=(0,C.Z)(n,$),u=(0,S.Z)((0,S.Z)({},s),{},{image:N()(l)?l[0]:l}),console.log(n),h={setFieldTouched:i,setErrors:t,setFieldError:c};try{u.id?(u._method="put",o((0,U.nV)(u,a,d(h)))):u.id||o((0,U.k5)(u,a,d(h)))}catch(m){o((0,G.ss)({open:!0,message:"An Error Occured",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},close:!1})),console.error(m)}case 6:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,t=e.setFieldValue,i=e.handleBlur,o=e.handleChange,a=e.handleSubmit,s=e.isSubmitting,d=e.touched,u=e.values;return(0,Q.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,Q.jsxs)(R._,{dateAdapter:V.H,children:[(0,Q.jsx)(A.Z,{children:"".concat(u.id?"Edit":"Add"," Payment Platform")}),(0,Q.jsx)(O.Z,{children:(0,Q.jsxs)(c.ZP,{container:!0,spacing:B.dv,sx:{mt:.25},children:[(0,Q.jsx)(c.ZP,{item:!0,xs:12,children:(0,Q.jsx)(l.Z,{id:"payment-platform-name",fullWidth:!0,label:"Enter Payment Platform Title*",name:"name",value:u.name,onBlur:i,onChange:o,error:Boolean(d.name&&n.name),helperText:d.name&&n.name})}),(0,Q.jsx)(c.ZP,{item:!0,xs:12,children:(0,Q.jsxs)(c.ZP,{container:!0,alignItems:"center",spacing:2,children:[(0,Q.jsx)(c.ZP,{item:!0,xs:12,sm:4,children:(0,Q.jsx)(f.Z,{variant:"body2",children:"Image"})}),(0,Q.jsx)(c.ZP,{item:!0,xs:12,sm:8,children:(0,Q.jsx)(W.Z,{attachments:u.image,setFieldValue:t,fieldName:"image"})})]})}),(0,Q.jsx)(c.ZP,{item:!0,md:6,xs:12,children:(0,Q.jsx)(F.Z,{control:(0,Q.jsx)(v.Z,{checked:u.is_active||!1,name:"is_active",onChange:function(e){return t("is_active",e.target.checked)}}),label:"Active"})}),(0,Q.jsx)(c.ZP,{item:!0,md:6,xs:12,children:(0,Q.jsx)(F.Z,{control:(0,Q.jsx)(v.Z,{checked:u.subscription_enabled||!1,name:"subscription_enabled",onChange:function(e){return t("subscription_enabled",e.target.checked)}}),label:"Subscribed"})})]})}),(0,Q.jsxs)(I.Z,{children:[n.submit&&(0,Q.jsx)(T.Z,{sx:{ml:3,flex:1},children:(0,Q.jsx)(D.Z,{error:!0,children:n.submit})}),(0,Q.jsx)(M.Z,{children:(0,Q.jsx)(q.Z,{color:"secondary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"".concat(u.id?"Update":"Create")})}),(0,Q.jsx)(M.Z,{children:(0,Q.jsx)(q.Z,{variant:"text",color:"error",onClick:r,children:"Close"})})]}),(0,Q.jsx)(T.Z,{sx:{mt:2}})]})})}})})},te=r(53904),ie=r(49042),oe=r(17190),ae=r(9789),ce=r(43510),le=r(73106),se=r(9014),de=r(30262);function ue(e,n,r){return n[r]<e[r]?-1:n[r]>e[r]?1:0}var he=function(e,n){return"desc"===e?function(e,r){return ue(e,r,n)}:function(e,r){return-ue(e,r,n)}};function me(e,n){var r=e.map((function(e,n){return[e,n]}));return r.sort((function(e,r){var t=n(e[0],r[0]);return 0!==t?t:e[1]-r[1]})),r.map((function(e){return e[0]}))}var pe=[{id:"id",numeric:!0,label:"ID",align:"center"},{id:"name",numeric:!1,label:"Title",align:"left"},{id:"image",numeric:!1,label:"Image",align:"left"},{id:"is_active",numeric:!1,label:"Status",align:"center"},{id:"subscription_enabled",numeric:!1,label:"Subscribed",align:"center"}],xe=function(){var e=(0,o.Z)(),n=(0,ie.I0)(),r=(0,i.useState)(null),C=(0,t.Z)(r,2),P=C[0],S=C[1],w=(0,i.useState)(!1),z=(0,t.Z)(w,2),_=z[0],E=z[1],A=function(e){S(e),E(!0)},O=(0,i.useState)("asc"),F=(0,t.Z)(O,2),I=F[0],T=F[1],D=(0,i.useState)("calories"),q=(0,t.Z)(D,2),R=q[0],V=q[1],B=(0,i.useState)([]),M=(0,t.Z)(B,2),W=M[0],H=(M[1],(0,i.useState)(0)),L=(0,t.Z)(H,2),X=L[0],J=L[1],N=(0,i.useState)(5),Y=(0,t.Z)(N,2),K=Y[0],$=Y[1],ee=(0,i.useState)(""),ne=(0,t.Z)(ee,2),ue=ne[0],xe=ne[1],ge=(0,i.useState)([]),fe=(0,t.Z)(ge,2),Ze=fe[0],ve=fe[1],je=(0,ie.v9)((function(e){return e.paymentPlatform})).paymentPlatforms,be=(0,i.useState)(!1),ke=(0,t.Z)(be,2),ye=ke[0],Ce=ke[1];(0,i.useEffect)((function(){n((0,U.qX)())}),[n]),(0,i.useEffect)((function(){ve(je)}),[je]);var Pe=(0,i.useState)(null),Se=(0,t.Z)(Pe,2),we=Se[0],ze=Se[1],_e=function(e){ze(null===e||void 0===e?void 0:e.currentTarget)},Ee=function(){ze(null)},Ae=function(){n((0,G.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"},message:"Payment Platform Deleted"})),n((0,U.qX)())},Oe=function(){n((0,G.ss)({open:!0,anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"error"},message:"An Error Occured"}))};return(0,Q.jsxs)(te.Z,{title:"Payment Platform List",content:!1,children:[(0,Q.jsx)(a.Z,{children:(0,Q.jsxs)(c.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",spacing:2,children:[(0,Q.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,Q.jsx)(l.Z,{InputProps:{startAdornment:(0,Q.jsx)(s.Z,{position:"start",children:(0,Q.jsx)(oe.Z,{fontSize:"small"})})},onChange:function(e){var n=null===e||void 0===e?void 0:e.target.value;if(xe(n||""),n){var r=Ze.filter((function(e){var r=!0,t=!1;return["name","category","price","qty","id"].forEach((function(r){e[r].toString().toLowerCase().includes(n.toString().toLowerCase())&&(t=!0)})),t||(r=!1),r}));ve(r)}else ve(je)},placeholder:"Search Payment Platform",value:ue,size:"small"})}),(0,Q.jsxs)(c.ZP,{item:!0,xs:12,sm:6,sx:{textAlign:"right"},children:[(0,Q.jsx)(d.Z,{title:"Add Payment Platform",children:(0,Q.jsx)(u.Z,{color:"primary",size:"small",onClick:function(){return A()},sx:{boxShadow:"none",ml:1,width:32,height:32,minHeight:32},children:(0,Q.jsx)(ae.Z,{fontSize:"small"})})}),(0,Q.jsx)(re,{open:_,editingPaymentPlatform:P,handleCloseDialog:function(){E(!1),S(null)}})]})]})}),(0,Q.jsx)(h.Z,{children:(0,Q.jsxs)(m.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",children:[(0,Q.jsx)(de.Z,{numSelected:W.length,order:I,orderBy:R,onRequestSort:function(e,n){T(R===n&&"asc"===I?"desc":"asc"),V(n)},rowCount:Ze.length,theme:e,selected:W,headCells:pe,hideSelectAll:!0}),(0,Q.jsx)(p.Z,{children:me(Ze,he(I,R)).slice(X*K,X*K+K).map((function(r,t){if("number"===typeof r)return null;var i=-1!==W.indexOf(r.id),o="enhanced-table-checkbox-".concat(t);return(0,Q.jsxs)(x.Z,{hover:!0,role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,children:[(0,Q.jsx)(g.Z,{align:"center",component:"th",id:o,scope:"row",sx:{cursor:"pointer"},children:(0,Q.jsxs)(f.Z,{variant:"subtitle1",sx:{color:"dark"===e.palette.mode?"grey.600":"grey.900"},children:["#",r.id," "]})}),(0,Q.jsx)(g.Z,{component:"th",id:o,scope:"row",sx:{cursor:"pointer"},onClick:function(){return A(r)},children:(0,Q.jsx)(Z.Z,{underline:"hover",color:"default",sx:{overflow:"hidden",display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap",":hover":{color:"primary.main"},cursor:"pointer"},children:r.name})}),(0,Q.jsx)(g.Z,{children:(0,Q.jsx)(c.ZP,{container:!0,spacing:2,alignItems:"center",children:(0,Q.jsx)(c.ZP,{item:!0,children:(0,Q.jsx)(se.Z,{alt:r.name,src:r.image})})})}),(0,Q.jsx)(g.Z,{align:"center",children:(0,Q.jsx)(v.Z,{checked:r.is_active,color:"".concat(r.is_active?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e){var t={id:r.id,is_active:e.target.checked,_method:"put"};n((0,U.nV)(t,(function(){}),(function(){})))}})}),(0,Q.jsx)(g.Z,{align:"center",children:(0,Q.jsx)(v.Z,{checked:r.subscription_enabled,color:"".concat(r.subscription_enabled?"success":"error"),inputProps:{"aria-label":"controlled"},onChange:function(e){var t={id:r.id,subscription_enabled:e.target.checked,_method:"put"};n((0,U.nV)(t,(function(){}),(function(){})))}})}),(0,Q.jsxs)(g.Z,{align:"center",sx:{pr:3},children:[(0,Q.jsx)(j.Z,{onClick:_e,size:"large","aria-label":"more options",children:(0,Q.jsx)(ce.Z,{fontSize:"small","aria-controls":"menu-popular-card-1","aria-haspopup":"true",sx:{color:"grey.500"}})}),(0,Q.jsxs)(b.Z,{id:"menu-popular-card-1",anchorEl:we,keepMounted:!0,open:Boolean(we),onClose:Ee,variant:"selectedMenu",anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},sx:{"& .MuiMenu-paper":{boxShadow:e.customShadows.z1}},children:[(0,Q.jsx)(k.Z,{onClick:function(){return function(e){A(e),Ee()}(r)},children:"Edit"}),(0,Q.jsx)(k.Z,{onClick:function(){return function(e){Ee(),S(e),Ce(!0)}(r)},children:"Delete"})]})]})]},t)}))})]})}),(0,Q.jsx)(y.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:Ze.length,rowsPerPage:K,page:X,onPageChange:function(e,n){J(n)},onRowsPerPageChange:function(e){$(parseInt(null===e||void 0===e?void 0:e.target.value,10)),J(0)}}),(0,Q.jsx)(le.Z,{open:ye,setOpen:Ce,item:P,onConfirm:function(){Ce(!1),n((0,U.EY)(P,Ae,Oe))},onCancel:function(){return Ce(!1)}})]})}}}]);