"use strict";(self.webpackChunkshmooz=self.webpackChunkshmooz||[]).push([[150],{60150:function(e,r,s){s.r(r),s.d(r,{default:function(){return F}});var n=s(95173),t=s(45254),o=s(50169),i=s(81239),a=s(65173),l=s(42037),c=s(20045),d=s(85535),u=s(6334),x=s(31342),h=s(5326),p=s(25438),Z=s(83458),m=s(46114),j=s(96156),f=s(1413),g=s(15861),w=s(29439),b=s(64687),v=s.n(b),P=s(7276),y=s(60103),k=s(16126),S=s(60753),C=s(11430),E=s(44570),R=s(54730),A=s(66872),z=s(5894),I=s(19972),M=s(28781),B=function(e){var r=0;return e.length>5&&(r+=1),e.length>7&&(r+=1),function(e){return new RegExp(/[0-9]/).test(e)}(e)&&(r+=1),function(e){return new RegExp(/[!#@$%^&*)(+=._-]/).test(e)}(e)&&(r+=1),function(e){return new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e)}(e)&&(r+=1),r},D=s(70748),W=s(55171),O=s(83303),_=s(4471),q=s(49042),U=s(45263),V=function(e){var r=Object.assign({},e),s=(0,o.Z)(),t=(0,q.I0)(),i=P.useState(!1),a=(0,w.Z)(i,2),c=a[0],d=a[1],u=P.useState(0),h=(0,w.Z)(u,2),p=(h[0],h[1]),Z=P.useState(),m=(0,w.Z)(Z,2),j=(m[0],m[1]),b=(0,n.UO)().reset_token,V=(0,n.s0)(),F=(0,O.Z)().resetPasswordConfirm,G=function(){d(!c)},H=function(e){e.preventDefault()},J=function(e){var r,s=B(e);p(s),j((r=s)<2?{label:"Poor",color:M.Z.errorMain}:r<3?{label:"Weak",color:M.Z.warningDark}:r<4?{label:"Normal",color:M.Z.orangeMain}:r<5?{label:"Good",color:M.Z.successMain}:r<6?{label:"Strong",color:M.Z.successDark}:{label:"Poor",color:M.Z.errorMain})};return(0,P.useEffect)((function(){J("")}),[]),(0,U.jsx)(z.J9,{initialValues:{password:"",submit:null},validationSchema:A.Ry().shape({password:A.Z_().max(255).required("Password is required")}),onSubmit:function(){var e=(0,g.Z)(v().mark((function e(r,s){var n,o,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.setErrors,o=s.setStatus,i=s.setSubmitting,e.prev=1,e.next=4,F(r.password,b);case 4:o({success:!0}),i(!1),t((0,_.ss)({open:!0,message:"Password Reset Success",variant:"alert",alert:{color:"success"},close:!1})),setTimeout((function(){V("/login",{replace:!0})}),1500),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),o({success:!1}),n({submit:e.t0.message}),i(!1),t((0,_.ss)({open:!0,message:"An Error Occured",variant:"alert",alert:{color:"error",severity:"error"},close:!1}));case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r,s){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,t=e.handleBlur,o=e.handleChange,i=e.handleSubmit,a=e.isSubmitting,d=e.touched,u=e.values;return(0,U.jsxs)("form",(0,f.Z)((0,f.Z)({noValidate:!0,onSubmit:i},r),{},{children:[(0,U.jsxs)(y.Z,{fullWidth:!0,error:Boolean(d.password&&n.password),sx:(0,f.Z)({},s.typography.customInput),children:[(0,U.jsx)(k.Z,{htmlFor:"outlined-adornment-password-reset",children:"Password"}),(0,U.jsx)(S.Z,{id:"outlined-adornment-password-reset",type:c?"text":"password",value:u.password,name:"password",onBlur:t,onChange:function(e){o(e),J(e.target.value)},endAdornment:(0,U.jsx)(C.Z,{position:"end",children:(0,U.jsx)(E.Z,{"aria-label":"toggle password visibility",onClick:G,onMouseDown:H,edge:"end",size:"large",children:c?(0,U.jsx)(D.Z,{}):(0,U.jsx)(W.Z,{})})}),inputProps:{}})]}),d.password&&n.password&&(0,U.jsx)(y.Z,{fullWidth:!0,children:(0,U.jsx)(R.Z,{error:!0,id:"standard-weight-helper-text-reset",children:n.password})}),n.submit&&(0,U.jsx)(l.Z,{sx:{mt:3},children:(0,U.jsx)(R.Z,{error:!0,children:n.submit})}),(0,U.jsx)(l.Z,{sx:{mt:1},children:(0,U.jsx)(I.Z,{children:(0,U.jsx)(x.Z,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Reset Password"})})})]}))}})},F=function(){var e=(0,o.Z)(),r=(0,n.s0)(),s=(0,i.Z)(e.breakpoints.down("md"));return(0,U.jsx)(h.Z,{children:(0,U.jsxs)(a.ZP,{container:!0,direction:"column",justifyContent:"space-between",sx:{minHeight:"100vh"},children:[(0,U.jsx)(a.ZP,{item:!0,justifyContent:"center",alignItems:"center",xs:12,sx:{display:"flex",m:{xs:1,sm:3},mb:0},children:(0,U.jsxs)(p.Z,{children:[(0,U.jsx)(l.Z,{sx:{backgroundColor:e.palette.dark[800],textAlign:"center",p:1},children:(0,U.jsx)(t.rU,{to:j.E6,"aria-label":"theme-logo",children:(0,U.jsx)(Z.Z,{})})}),(0,U.jsxs)(a.ZP,{container:!0,alignItems:"center",justifyContent:"center",sx:{p:2},children:[(0,U.jsx)(a.ZP,{item:!0,xs:12,children:(0,U.jsxs)(c.Z,{alignItems:"center",justifyContent:"center",spacing:1,children:[(0,U.jsx)(d.Z,{color:e.palette.secondary.main,gutterBottom:!0,variant:s?"h3":"h2",children:"Reset Password"}),(0,U.jsx)(d.Z,{variant:"caption",fontSize:"16px",textAlign:s?"center":"inherit",children:"Please choose your new password"})]})}),(0,U.jsx)(a.ZP,{item:!0,xs:12,children:(0,U.jsx)(V,{})}),(0,U.jsx)(a.ZP,{item:!0,xs:12,children:(0,U.jsx)(u.Z,{})}),(0,U.jsx)(a.ZP,{item:!0,xs:12,sx:{textAlign:"center"},children:(0,U.jsx)(x.Z,{onClick:function(){r("/login")},variant:"text",color:"inherit",children:"Already have an account?"})})]})]})}),(0,U.jsx)(a.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,U.jsx)(m.Z,{})})]})})}}}]);